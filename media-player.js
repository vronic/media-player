var MediaPlayer=function(){"use strict";function e(e,t,n){function l(e){e.preventDefault();var t=v?"clientX":"clientY",l=t in e?e[t]:e.touches&&e.touches[0]&&e.touches[0][t]||0,r=v?s.left:s.top,a=v?s.right:s.bottom;n((p?l-r:a-l)/(a-r))}function r(){m.removeEventListener(u,l),m.removeEventListener(c,r)}var a=void 0!==e.onpointerup,i=void 0!==e.ontouchstart,o=a?"pointerdown":i?"touchstart":"mousedown",u=a?"pointermove":i?"touchmove":"mousemove",c=a?"pointerup":i?"touchend":"mouseup",m=void 0,s=void 0,d=void 0,v=void 0,p=void 0;e.addEventListener(o,function(n){m=e.ownerDocument.defaultView,s=t.getBoundingClientRect(),d=e.getAttribute("data-dir")||"ltr",v=/^(ltr|rtl)$/i.test(d),p=/^(ltr|ttb)$/i.test(d),l(n),m.addEventListener(u,l),m.addEventListener(c,r)})}function t(e){return("0"+Math.floor(e/60)).slice(-2)+":"+("0"+Math.floor(e%60)).slice(-2)}function n(e,t,n){return Math.floor(e/60)+" "+t+", "+Math.floor(e%60)+" "+n}function l(e){var t=e instanceof Node?e:document.createElement(e),n=[].slice.call(arguments,1);for(var l in n)if(n[l]instanceof Node)t.appendChild(n[l]);else if(Object(n[l])===n[l])for(var r in n[l])"function"==typeof n[l][r]?t.addEventListener(r,n[l][r]):t.setAttribute(r,n[l][r]);return t}function r(e,t,n){var r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"use");return a.setAttributeNS("http://www.w3.org/1999/xlink","href",t[n]||"#symbol-"+n),l(document.createElementNS(r,"svg"),{class:e+"-symbol "+e+"-"+n+"-symbol",role:"presentation"},a)}function a(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(t,!0,!0,void 0),e.dispatchEvent(n)}return function(i,o){function u(){D!==i.paused&&(D=i.paused,l(b.play,{"aria-label":D?S.play||"play":S.pause||"pause"}),l(b.playSymbol,{"aria-hidden":!D}),l(b.pauseSymbol,{"aria-hidden":D}),clearInterval(q),D||(q=setInterval(c,34)),a(i,"playchange"))}function c(){if(R!==i.currentTime||N!==i.duration){R=i.currentTime,N=i.duration||0;var e=R/N,r=t(R),o=t(N-Math.floor(R));r!==b.currentTimeText.nodeValue&&(b.currentTimeText.nodeValue=r,l(b.currentTime,{title:""+n(R,S.minutes||"minutes",S.seconds||"seconds")})),o!==b.remainingTimeText.nodeValue&&(b.remainingTimeText.nodeValue=o,l(b.remainingTime,{title:""+n(N-R,S.minutes||"minutes",S.seconds||"seconds")})),l(b.time,{"aria-valuenow":R,"aria-valuemin":0,"aria-valuemax":N});var u=/^(ltr|rtl)$/i.test(b.time.getAttribute("data-dir"))?"width":"height";b.timeMeter.style[u]=100*e+"%",a(i,"timechange")}}function m(){i.removeEventListener("canplaythrough",s),l(i,{canplaythrough:s}),l(b.download,{href:i.src,download:i.src}),u(),d(),v(),c()}function s(){i.removeEventListener("canplaythrough",s),a(i,"canplaystart"),D&&!i.autoplay||i.play()}function d(){var e=i.muted?0:i.volume,t=!e;l(b.volume,{"aria-valuenow":e,"aria-valuemin":0,"aria-valuemax":1});var n=/^(ltr|rtl)$/i.test(b.volume.getAttribute("data-dir"))?"width":"height";b.volumeMeter.style[n]=100*e+"%",l(b.mute,{"aria-label":t?S.unmute||"unmute":S.mute||"mute"}),l(b.muteSymbol,{"aria-hidden":t}),l(b.unmuteSymbol,{"aria-hidden":!t})}function v(){var e=x===M();l(b.fullscreen,{"aria-label":e?S.leaveFullscreen||"leave full screen":S.enterFullscreen||"enter full screen"}),l(b.enterFullscreenSymbol,{"aria-hidden":e}),l(b.leaveFullscreenSymbol,{"aria-hidden":!e})}function p(e){e.preventDefault(),i[i.paused?"play":"pause"]()}function f(e){e.preventDefault(),i.muted=!i.muted}function h(e){var t=e.keyCode,n=e.shiftKey;if(37<=t&&40>=t){e.preventDefault();var l="ltr"===getComputedStyle(b.time).direction,r=37===t||39===t?t-38:t-39;i.currentTime=Math.max(0,Math.min(N,R+r*(l?1:-1)*(n?10:1))),c()}}function y(e){var t=e.keyCode,n=e.shiftKey;if(37<=t&&40>=t){e.preventDefault();var l="ltr"===getComputedStyle(b.time).direction,r=37===t||39===t?t-38:l?39-t:t-39;i.volume=Math.max(0,Math.min(1,i.volume+r*(l?.1:-.1)*(n?1:.2)))}}var b=this,g=Object(o),w=g.prefix||"media",T=/^(btt|ltr|rtl|ttb)$/i.test(g.dir)?String(g.dir).toLowerCase():getComputedStyle(i).direction,S=Object(g.lang),F=Object(g.svgs),k=i.ownerDocument;b.media=l(i,{canplaythrough:s,loadstart:m,loadeddata:function(){c()},pause:u,play:u,timeupdate:c,volumechange:d}),b.playSymbol=r(w,F,"play"),b.pauseSymbol=r(w,F,"pause"),b.play=l("button",{class:w+"-control "+w+"-play","data-dir":T,click:p,keydown:h},b.playSymbol,b.pauseSymbol),b.timeMeter=l("span",{class:w+"-meter "+w+"-time-meter"}),b.timeRange=l("span",{class:w+"-range "+w+"-time-range"},b.timeMeter),b.time=l("button",{class:w+"-slider "+w+"-time",role:"slider","aria-label":S.currentTime||"current time","data-dir":g.timeDir||T,click:function(e){e.pointerType||e.detail||p(e)},keydown:h},b.timeRange),b.currentTimeText=k.createTextNode(""),b.currentTime=l("span",{class:w+"-text "+w+"-current-time",role:"timer","aria-label":S.currentTime||"current time"},b.currentTimeText),b.remainingTimeText=k.createTextNode(""),b.remainingTime=l("span",{class:w+"-text "+w+"-remaining-time",role:"timer","aria-label":S.remainingTime||"remaining time"},b.remainingTimeText),b.muteSymbol=r(w,F,"mute"),b.unmuteSymbol=r(w,F,"unmute"),b.mute=l("button",{class:w+"-control "+w+"-mute","data-dir":T,click:f,keydown:y},b.muteSymbol,b.unmuteSymbol),b.volumeMeter=l("span",{class:w+"-meter "+w+"-volume-meter"}),b.volumeRange=l("span",{class:w+"-range "+w+"-volume-range"},b.volumeMeter),b.volume=l("button",{class:w+"-slider "+w+"-volume",role:"slider","aria-label":S.volume||"volume","data-dir":g.volumeDir||T,click:function(e){e.pointerType||e.detail||f(e)},keydown:y},b.volumeRange),b.downloadLink=r(w,F,"download"),b.download=l("button",{class:w+"-control "+w+"-download","aria-label":S.download||"download","data-dir":T,click:function(){var e=k.head.appendChild(l("a",{download:"",href:i.src}));e.click(),k.head.removeChild(e)}},b.downloadLink),b.enterFullscreenSymbol=r(w,F,"enterFullscreen"),b.leaveFullscreenSymbol=r(w,F,"leaveFullscreen"),b.fullscreen=l("button",{class:w+"-control "+w+"-fullscreen","data-dir":T,click:function(){C?x===M()?L().call(k):(C.call(x),b.fullscreen.focus(),setTimeout(function(){b.fullscreen.focus()},200)):i.webkitSupportsFullscreen&&(i.webkitDisplayingFullscreen?i.webkitExitFullscreen():i.webkitEnterFullscreen(),v())}},b.enterFullscreenSymbol,b.leaveFullscreenSymbol),b.toolbar=l("div",{class:w+"-toolbar",role:"toolbar","aria-label":S.player||"media player"},b.play,b.mute,b.currentTime,b.remainingTime,b.volume,b.time,b.download,b.fullscreen);var x=b.player=l("div",{class:w+"-player",role:"region","aria-label":S.player||"media player"},b.toolbar),E=b._fullscreenchange="onfullscreenchange"in x?"fullscreenchange":"onwebkitfullscreenchange"in x?"webkitfullscreenchange":"onmozfullscreenchange"in x?"mozfullscreenchange":"onMSFullscreenChange"in x?"MSFullscreenChange":"fullscreenchange",M=b._fullscreenElement=function(){return k.fullscreenElement||k.webkitFullscreenElement||k.mozFullScreenElement||k.msFullscreenElement},C=b._requestFullscreen=x.requestFullscreen||x.webkitRequestFullscreen||x.mozRequestFullScreen||x.msRequestFullscreen,L=b._exitFullscreen=function(){return k.exitFullscreen||k.webkitCancelFullScreen||k.mozCancelFullScreen||k.msExitFullscreen};k.addEventListener(E,v),l(i,{class:w+"-media",playsinline:"","webkit-playsinline":"",role:"img",tabindex:-1}).controls=!1,i.parentNode&&x.insertBefore(i.parentNode.replaceChild(x,i),b.toolbar);var D=void 0,R=void 0,N=void 0,q=void 0;e(b.time,b.timeRange,function(e){i.currentTime=N*Math.max(0,Math.min(1,e)),c()}),e(b.volume,b.volumeRange,function(e){i.volume=Math.max(0,Math.min(1,e))}),m()}}();
