{"version":3,"file":"media-player.js","sources":["media-player.js"],"sourcesContent":["/* Media Player\n/* ====================================================================== */\n\nexport default function MediaPlayer(media, rawopts) { // eslint-disable-line complexity\n\t/* Options\n\t/* ====================================================================== */\n\n\tconst self = this;\n\tconst opts = Object(rawopts);\n\tconst prefix = opts.prefix || 'media';\n\tconst dir  = /^(btt|ltr|rtl|ttb)$/i.test(opts.dir) ? String(opts.dir).toLowerCase() : getComputedStyle(media).direction;\n\tconst lang = Object(opts.lang);\n\tconst svgs = Object(opts.svgs);\n\n\t/* Elements\n\t/* ====================================================================== */\n\n\tconst document = media.ownerDocument;\n\n\tself.media = $(media, {\n\t\tcanplaythrough: onCanPlayStart,\n\t\tloadstart: onLoadStart,\n\t\tloadeddata: onLoadedData,\n\t\tpause: onPlayChange,\n\t\tplay: onPlayChange,\n\t\ttimeupdate: onTimeChange,\n\t\tvolumechange: onVolumeChange\n\t});\n\n\t// play/pause toggle\n\tself.playSymbol = svg(prefix, svgs, 'play');\n\tself.pauseSymbol = svg(prefix, svgs, 'pause');\n\tself.play = $('button', { class: `${prefix}-control ${prefix}-play`, 'data-dir': dir, click: onPlayClick, keydown: onTimeKeydown }, self.playSymbol, self.pauseSymbol);\n\n\t// time slider\n\tself.timeMeter = $('span', { class: `${prefix}-meter ${prefix}-time-meter` });\n\tself.timeRange = $('span', { class: `${prefix}-range ${prefix}-time-range` }, self.timeMeter);\n\tself.time = $('button', { class: `${prefix}-slider ${prefix}-time`, role: 'slider', 'aria-label': lang.currentTime || 'current time', 'data-dir': opts.timeDir || dir, click: onTimeClick, keydown: onTimeKeydown }, self.timeRange);\n\n\t// current time text\n\tself.currentTimeText = document.createTextNode('');\n\tself.currentTime = $('span', { class: `${prefix}-text ${prefix}-current-time`, role: 'timer', 'aria-label': lang.currentTime || 'current time' }, self.currentTimeText);\n\n\t// remaining time text\n\tself.remainingTimeText = document.createTextNode('');\n\tself.remainingTime = $('span', { class: `${prefix}-text ${prefix}-remaining-time`, role: 'timer', 'aria-label': lang.remainingTime || 'remaining time' }, self.remainingTimeText);\n\n\t// mute/unmute toggle\n\tself.muteSymbol = svg(prefix, svgs, 'mute');\n\tself.unmuteSymbol = svg(prefix, svgs, 'unmute');\n\tself.mute = $('button', { class: `${prefix}-control ${prefix}-mute`, 'data-dir': dir, click: onMuteClick, keydown: onVolumeKeydown }, self.muteSymbol, self.unmuteSymbol);\n\n\t// volume slider\n\tself.volumeMeter = $('span', { class: `${prefix}-meter ${prefix}-volume-meter` });\n\tself.volumeRange = $('span', { class: `${prefix}-range ${prefix}-volume-range` }, self.volumeMeter);\n\tself.volume = $('button', { class: `${prefix}-slider ${prefix}-volume`, role: 'slider', 'aria-label': lang.volume || 'volume', 'data-dir': opts.volumeDir || dir, click: onVolumeClick, keydown: onVolumeKeydown }, self.volumeRange);\n\n\t// download link\n\tself.downloadLink = svg(prefix, svgs, 'download');\n\tself.download = $('button', { class: `${prefix}-control ${prefix}-download`, 'aria-label': lang.download || 'download', 'data-dir': dir }, self.downloadLink);\n\n\t// fullscreen link\n\tself.enterFullscreenSymbol = svg(prefix, svgs, 'enterFullscreen');\n\tself.leaveFullscreenSymbol = svg(prefix, svgs, 'leaveFullscreen');\n\tself.fullscreen = $('button', { class: `${prefix}-control ${prefix}-fullscreen`, 'data-dir': dir, click: onFullscreenClick }, self.enterFullscreenSymbol, self.leaveFullscreenSymbol);\n\n\t// player toolbar\n\tself.toolbar = $('div',\n\t\t{ class: `${prefix}-toolbar`, role: 'toolbar', 'aria-label': lang.player || 'media player' },\n\t\tself.play, self.mute, self.currentTime, self.remainingTime, self.volume, self.time, self.download, self.fullscreen\n\t);\n\n\t// player\n\tconst player = self.player = $('div', { class: `${prefix}-player`, role: 'region', 'aria-label': lang.player || 'media player' }, self.toolbar);\n\n\t// fullscreen api\n\tconst fullscreenchange = self._fullscreenchange = 'onfullscreenchange' in player ? 'fullscreenchange' : 'onwebkitfullscreenchange' in player ? 'webkitfullscreenchange' : 'onmozfullscreenchange' in player ? 'mozfullscreenchange' : 'onMSFullscreenChange' in player ? 'MSFullscreenChange' : 'fullscreenchange';\n\tconst fullscreenElement = self._fullscreenElement = () => document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n\tconst requestFullscreen = self._requestFullscreen = player.requestFullscreen || player.webkitRequestFullscreen || player.mozRequestFullScreen || player.msRequestFullscreen;\n\tconst exitFullscreen = self._exitFullscreen = () => document.exitFullscreen || document.webkitCancelFullScreen || document.mozCancelFullScreen || document.msExitFullscreen;\n\n\t// listen for fullscreen changes\n\tdocument.addEventListener(fullscreenchange, onFullscreenChange);\n\n\t// update media class and controls\n\t$(media, { class: `${prefix}-media`, playsinline: '', 'webkit-playsinline': '', role: 'img',\t tabindex: -1 }).controls = false;\n\n\t// replace the media element with the media player\n\tif (media.parentNode) {\n\t\tplayer.insertBefore(\n\t\t\tmedia.parentNode.replaceChild(player, media),\n\t\t\tself.toolbar\n\t\t);\n\t}\n\n\t/* Interval Events\n\t/* ====================================================================== */\n\n\tlet paused, currentTime, duration, interval;\n\n\t// when the play state changes\n\tfunction onPlayChange() {\n\t\tif (paused !== media.paused) {\n\t\t\tpaused = media.paused;\n\n\t\t\t$(self.play, { 'aria-label': paused ? lang.play || 'play' : lang.pause || 'pause' });\n\t\t\t$(self.playSymbol, { 'aria-hidden': !paused });\n\t\t\t$(self.pauseSymbol, { 'aria-hidden': paused });\n\n\t\t\tclearInterval(interval);\n\n\t\t\tif (!paused) {\n\t\t\t\t// listen for time changes every 30th of a second\n\t\t\t\tinterval = setInterval(onTimeChange, 34);\n\t\t\t}\n\n\t\t\t// dispatch new \"playchange\" event\n\t\t\tdispatchCustomEvent(media, 'playchange');\n\t\t}\n\t}\n\n\t// when the time changes\n\tfunction onTimeChange() {\n\t\tif (currentTime !== media.currentTime || duration !== media.duration) {\n\t\t\tcurrentTime = media.currentTime;\n\t\t\tduration = media.duration || 0;\n\n\t\t\tconst currentTimePercentage = currentTime / duration;\n\t\t\tconst currentTimeCode = timeToTimecode(currentTime);\n\t\t\tconst remainingTimeCode = timeToTimecode(duration - Math.floor(currentTime));\n\n\t\t\tif (currentTimeCode !== self.currentTimeText.nodeValue) {\n\t\t\t\tself.currentTimeText.nodeValue = currentTimeCode;\n\n\t\t\t\t$(self.currentTime, { title: `${timeToAural(currentTime, lang.minutes || 'minutes', lang.seconds || 'seconds')}` });\n\t\t\t}\n\n\t\t\tif (remainingTimeCode !== self.remainingTimeText.nodeValue) {\n\t\t\t\tself.remainingTimeText.nodeValue = remainingTimeCode;\n\n\t\t\t\t$(self.remainingTime, { title: `${timeToAural(duration - currentTime, lang.minutes || 'minutes', lang.seconds || 'seconds')}` });\n\t\t\t}\n\n\t\t\t$(self.time, { 'aria-valuenow': currentTime, 'aria-valuemin': 0, 'aria-valuemax': duration });\n\n\t\t\tconst dirIsInline = /^(ltr|rtl)$/i.test(self.time.getAttribute('data-dir'));\n\t\t\tconst axisProp = dirIsInline ? 'width' : 'height';\n\n\t\t\tself.timeMeter.style[axisProp] = `${currentTimePercentage * 100}%`;\n\n\t\t\t// dispatch new \"timechange\" event\n\t\t\tdispatchCustomEvent(media, 'timechange');\n\t\t}\n\t}\n\n\t// when media loads for the first time\n\tfunction onLoadStart() {\n\t\tmedia.removeEventListener('canplaythrough', onCanPlayStart);\n\n\t\t$(media, { canplaythrough: onCanPlayStart });\n\n\t\t$(self.download, { href: media.src, download: media.src });\n\n\t\tonPlayChange();\n\t\tonVolumeChange();\n\t\tonFullscreenChange();\n\t\tonTimeChange();\n\t}\n\n\t// when the immediate current playback position is available\n\tfunction onLoadedData() {\n\t\tonTimeChange();\n\t}\n\n\t// when the media can play\n\tfunction onCanPlayStart() {\n\t\tmedia.removeEventListener('canplaythrough', onCanPlayStart);\n\n\t\t// dispatch new \"canplaystart\" event\n\t\tdispatchCustomEvent(media, 'canplaystart');\n\n\t\tif (!paused || media.autoplay) {\n\t\t\tmedia.play();\n\t\t}\n\t}\n\n\t// when the volume changes\n\tfunction onVolumeChange() {\n\t\tconst volumePercentage = media.muted ? 0 : media.volume;\n\t\tconst isMuted = !volumePercentage;\n\n\t\t$(self.volume, { 'aria-valuenow': volumePercentage, 'aria-valuemin': 0, 'aria-valuemax': 1 });\n\n\t\tconst dirIsInline = /^(ltr|rtl)$/i.test(self.volume.getAttribute('data-dir'));\n\t\tconst axisProp = dirIsInline ? 'width' : 'height';\n\n\t\tself.volumeMeter.style[axisProp] = `${volumePercentage * 100}%`;\n\n\t\t$(self.mute, { 'aria-label': isMuted ? lang.unmute || 'unmute' : lang.mute || 'mute' });\n\t\t$(self.muteSymbol, { 'aria-hidden': isMuted });\n\t\t$(self.unmuteSymbol, { 'aria-hidden': !isMuted });\n\t}\n\n\tfunction onFullscreenChange() {\n\t\tconst isFullscreen = player === fullscreenElement();\n\n\t\t$(self.fullscreen, { 'aria-label': isFullscreen ? lang.leaveFullscreen || 'leave full screen' : lang.enterFullscreen || 'enter full screen' });\n\t\t$(self.enterFullscreenSymbol, { 'aria-hidden': isFullscreen });\n\t\t$(self.leaveFullscreenSymbol, { 'aria-hidden': !isFullscreen });\n\t}\n\n\t/* Input Events\n\t/* ====================================================================== */\n\n\t// when the play control is clicked\n\tfunction onPlayClick(event) {\n\t\tevent.preventDefault();\n\n\t\tmedia[media.paused ? 'play' : 'pause']();\n\t}\n\n\t// when the time control\n\tfunction onTimeClick(event) {\n\t\t// handle click if clicked without pointer\n\t\tif (!event.pointerType && !event.detail) {\n\t\t\tonPlayClick(event);\n\t\t}\n\t}\n\n\t// click from mute control\n\tfunction onMuteClick(event) {\n\t\tevent.preventDefault();\n\n\t\tmedia.muted = !media.muted;\n\t}\n\n\t// click from volume control\n\tfunction onVolumeClick(event) {\n\t\t// handle click if clicked without pointer\n\t\tif (!event.pointerType && !event.detail) {\n\t\t\tonMuteClick(event);\n\t\t}\n\t}\n\n\t// click from fullscreen control\n\tfunction onFullscreenClick() {\n\t\tif (requestFullscreen) {\n\t\t\tif (player === fullscreenElement()) {\n\t\t\t\t// exit fullscreen\n\t\t\t\texitFullscreen().call(document);\n\t\t\t} else {\n\t\t\t\t// enter fullscreen\n\t\t\t\trequestFullscreen.call(player);\n\n\t\t\t\t// maintain focus in internet explorer\n\t\t\t\tself.fullscreen.focus();\n\n\t\t\t\t// maintain focus in safari\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tself.fullscreen.focus();\n\t\t\t\t}, 200);\n\t\t\t}\n\t\t} else if (media.webkitSupportsFullscreen) {\n\t\t\t// iOS allows fullscreen of the video itself\n\t\t\tif (media.webkitDisplayingFullscreen) {\n\t\t\t\t// exit ios fullscreen\n\t\t\t\tmedia.webkitExitFullscreen();\n\t\t\t} else {\n\t\t\t\t// enter ios fullscreen\n\t\t\t\tmedia.webkitEnterFullscreen();\n\t\t\t}\n\n\t\t\tonFullscreenChange();\n\t\t}\n\t}\n\n\t// keydown from play control or current time control\n\tfunction onTimeKeydown(event) {\n\t\tconst { keyCode, shiftKey } = event;\n\n\t\t// 37: LEFT, 38 is UP, 39: RIGHT, 40: DOWN\n\t\tif (37 <= keyCode && 40 >= keyCode) {\n\t\t\tevent.preventDefault();\n\n\t\t\tconst isLTR = 'ltr' === getComputedStyle(self.time).direction;\n\t\t\tconst offset = 37 === keyCode || 39 === keyCode ? keyCode - 38 : keyCode - 39;\n\n\t\t\tmedia.currentTime = Math.max(0, Math.min(duration, currentTime + offset * (isLTR ? 1 : -1) * (shiftKey ? 10 : 1)));\n\n\t\t\tonTimeChange();\n\t\t}\n\t}\n\n\t// keydown from mute control or volume control\n\tfunction onVolumeKeydown(event) {\n\t\tconst { keyCode, shiftKey } = event;\n\n\t\t// 37: LEFT, 38 is UP, 39: RIGHT, 40: DOWN\n\t\tif (37 <= keyCode && 40 >= keyCode) {\n\t\t\tevent.preventDefault();\n\n\t\t\tconst isLTR = 'ltr' === getComputedStyle(self.time).direction;\n\t\t\tconst offset = 37 === keyCode || 39 === keyCode ? keyCode - 38 : isLTR ? 39 - keyCode : keyCode - 39;\n\n\t\t\tmedia.volume = Math.max(0, Math.min(1, media.volume + offset * (isLTR ? 0.1 : -0.1) * (shiftKey ? 1 : 0.2)));\n\t\t}\n\t}\n\n\t// pointer events from time control\n\tonDrag(self.time, self.timeRange, (percentage) => {\n\t\tmedia.currentTime = duration * Math.max(0, Math.min(1, percentage));\n\n\t\tonTimeChange();\n\t});\n\n\t// pointer events from volume control\n\tonDrag(self.volume, self.volumeRange, (percentage) => {\n\t\tmedia.volume = Math.max(0, Math.min(1, percentage));\n\t});\n\n\tonLoadStart();\n}\n\n/* Handle Drag Ranges\n/* ========================================================================== */\n\nfunction onDrag(target, innerTarget, listener) {\n\tconst hasPointerEvent = undefined !== target.onpointerup;\n\tconst hasTouchEvent   = undefined !== target.ontouchstart;\n\tconst pointerDown = hasPointerEvent ? 'pointerdown' : hasTouchEvent ? 'touchstart' : 'mousedown';\n\tconst pointerMove = hasPointerEvent ? 'pointermove' : hasTouchEvent ? 'touchmove' : 'mousemove';\n\tconst pointerUp   = hasPointerEvent ? 'pointerup'   : hasTouchEvent ? 'touchend' : 'mouseup';\n\n\tlet window, rect, dir, dirIsInline, dirIsStart;\n\n\t// on pointer down\n\ttarget.addEventListener(pointerDown, onpointerdown);\n\n\tfunction onpointerdown(event) {\n\t\t// window\n\t\twindow = target.ownerDocument.defaultView;\n\n\t\t// client boundaries\n\t\trect = innerTarget.getBoundingClientRect();\n\n\t\t// drag direction\n\t\tdir = target.getAttribute('data-dir') || 'ltr';\n\n\t\tdirIsInline = /^(ltr|rtl)$/i.test(dir);\n\t\tdirIsStart  = /^(ltr|ttb)$/i.test(dir);\n\n\t\tonpointermove(event);\n\n\t\twindow.addEventListener(pointerMove, onpointermove);\n\t\twindow.addEventListener(pointerUp, onpointerup);\n\t}\n\n\tfunction onpointermove(event) {\n\t\t// prevent browser actions on this event\n\t\tevent.preventDefault();\n\n\t\t// the pointer coordinate\n\t\tconst axisProp = dirIsInline ? 'clientX' : 'clientY';\n\t\tconst position = axisProp in event ? event[axisProp] : event.touches && event.touches[0] && event.touches[0][axisProp] || 0;\n\n\t\t// the container start and end coordinates\n\t\tconst start = dirIsInline ? rect.left : rect.top;\n\t\tconst end   = dirIsInline ? rect.right : rect.bottom;\n\n\t\t// the percentage of the pointer along the container\n\t\tconst percentage = (dirIsStart ? position - start : end - position) / (end - start);\n\n\t\t// call the listener with percentage\n\t\tlistener(percentage);\n\t}\n\n\tfunction onpointerup() {\n\t\twindow.removeEventListener(pointerMove, onpointermove);\n\t\twindow.removeEventListener(pointerUp, onpointerup);\n\t}\n}\n\n/* Time To Timecode\n/* ====================================================================== */\n\nfunction timeToTimecode(time) {\n\treturn `${`0${Math.floor(time / 60)}`.slice(-2)}:${`0${Math.floor(time % 60)}`.slice(-2)}`;\n}\n\n/* Time To Aural\n/* ====================================================================== */\n\nfunction timeToAural(time, langMinutes, langSeconds) {\n\treturn `${Math.floor(time / 60)} ${langMinutes}, ${Math.floor(time % 60)} ${langSeconds}`;\n}\n\n/* Update Elements\n/* ========================================================================== */\n\nfunction $(rawid) {\n\tconst id = rawid instanceof Node ? rawid : document.createElement(rawid);\n\tconst args = [].slice.call(arguments, 1);\n\n\tfor (let index in args) {\n\t\tif (args[index] instanceof Node) {\n\t\t\tid.appendChild(args[index]);\n\t\t} else if (Object(args[index]) === args[index]) {\n\t\t\tfor (let attr in args[index]) {\n\t\t\t\tif ('function' === typeof args[index][attr]) {\n\t\t\t\t\tid.addEventListener(attr, args[index][attr]);\n\t\t\t\t} else {\n\t\t\t\t\tid.setAttribute(attr, args[index][attr]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn id;\n}\n\nfunction svg(prefix, svgs, type) { // eslint-disable-line max-params\n\tconst svgns = 'http://www.w3.org/2000/svg';\n\tconst use = document.createElementNS(svgns, 'use');\n\n\tuse.setAttributeNS('http://www.w3.org/1999/xlink', 'href', svgs[type] || `#symbol-${type}`);\n\n\treturn $(document.createElementNS(svgns, 'svg'), {\n\t\tclass: `${prefix}-symbol ${prefix}-${type}-symbol`,\n\t\trole: 'presentation'\n\t}, use);\n}\n\n/* Dispatch Events\n/* ====================================================================== */\n\nfunction dispatchCustomEvent(node, type) {\n\tconst event = document.createEvent('CustomEvent');\n\n\tevent.initCustomEvent(type, true, true, undefined);\n\n\tnode.dispatchEvent(event);\n}\n"],"names":["onDrag","target","innerTarget","listener","onpointermove","event","preventDefault","axisProp","dirIsInline","position","touches","start","rect","left","top","end","right","bottom","dirIsStart","onpointerup","removeEventListener","pointerMove","pointerUp","hasPointerEvent","undefined","hasTouchEvent","ontouchstart","pointerDown","window","dir","addEventListener","ownerDocument","defaultView","getBoundingClientRect","getAttribute","test","timeToTimecode","time","Math","floor","slice","timeToAural","langMinutes","langSeconds","$","rawid","id","Node","document","createElement","args","call","arguments","index","appendChild","Object","attr","setAttribute","svg","prefix","svgs","type","svgns","use","createElementNS","setAttributeNS","dispatchCustomEvent","node","createEvent","initCustomEvent","dispatchEvent","media","rawopts","onPlayChange","paused","self","play","aria-label","lang","pause","playSymbol","aria-hidden","pauseSymbol","interval","setInterval","onTimeChange","currentTime","duration","currentTimePercentage","currentTimeCode","remainingTimeCode","currentTimeText","nodeValue","title","minutes","seconds","remainingTimeText","remainingTime","aria-valuenow","aria-valuemin","aria-valuemax","timeMeter","style","onLoadStart","onCanPlayStart","canplaythrough","download","href","src","autoplay","onVolumeChange","volumePercentage","muted","volume","isMuted","volumeMeter","mute","unmute","muteSymbol","unmuteSymbol","onFullscreenChange","isFullscreen","player","fullscreenElement","fullscreen","leaveFullscreen","enterFullscreen","enterFullscreenSymbol","leaveFullscreenSymbol","onPlayClick","onMuteClick","onTimeKeydown","keyCode","shiftKey","isLTR","getComputedStyle","direction","offset","max","min","onVolumeKeydown","this","opts","String","toLowerCase","class","data-dir","click","keydown","timeRange","role","timeDir","pointerType","detail","createTextNode","volumeRange","volumeDir","downloadLink","requestFullscreen","focus","webkitSupportsFullscreen","webkitDisplayingFullscreen","webkitExitFullscreen","webkitEnterFullscreen","toolbar","fullscreenchange","_fullscreenchange","_fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","_requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","exitFullscreen","_exitFullscreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen","playsinline","webkit-playsinline","tabindex","controls","parentNode","insertBefore","replaceChild","percentage"],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb25hdGhhbm5lYWwvR2l0SHViL2pvbmF0aGFudG5lYWwvbWVkaWEtcGxheWVyL21lZGlhLXBsYXllci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBNZWRpYSBQbGF5ZXJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTWVkaWFQbGF5ZXIobWVkaWEsIHJhd29wdHMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjb21wbGV4aXR5XG5cdC8qIE9wdGlvbnNcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRjb25zdCBvcHRzID0gT2JqZWN0KHJhd29wdHMpO1xuXHRjb25zdCBwcmVmaXggPSBvcHRzLnByZWZpeCB8fCAnbWVkaWEnO1xuXHRjb25zdCBkaXIgID0gL14oYnR0fGx0cnxydGx8dHRiKSQvaS50ZXN0KG9wdHMuZGlyKSA/IFN0cmluZyhvcHRzLmRpcikudG9Mb3dlckNhc2UoKSA6IGdldENvbXB1dGVkU3R5bGUobWVkaWEpLmRpcmVjdGlvbjtcblx0Y29uc3QgbGFuZyA9IE9iamVjdChvcHRzLmxhbmcpO1xuXHRjb25zdCBzdmdzID0gT2JqZWN0KG9wdHMuc3Zncyk7XG5cblx0LyogRWxlbWVudHNcblx0LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cdGNvbnN0IGRvY3VtZW50ID0gbWVkaWEub3duZXJEb2N1bWVudDtcblxuXHRzZWxmLm1lZGlhID0gJChtZWRpYSwge1xuXHRcdGNhbnBsYXl0aHJvdWdoOiBvbkNhblBsYXlTdGFydCxcblx0XHRsb2Fkc3RhcnQ6IG9uTG9hZFN0YXJ0LFxuXHRcdGxvYWRlZGRhdGE6IG9uTG9hZGVkRGF0YSxcblx0XHRwYXVzZTogb25QbGF5Q2hhbmdlLFxuXHRcdHBsYXk6IG9uUGxheUNoYW5nZSxcblx0XHR0aW1ldXBkYXRlOiBvblRpbWVDaGFuZ2UsXG5cdFx0dm9sdW1lY2hhbmdlOiBvblZvbHVtZUNoYW5nZVxuXHR9KTtcblxuXHQvLyBwbGF5L3BhdXNlIHRvZ2dsZVxuXHRzZWxmLnBsYXlTeW1ib2wgPSBzdmcocHJlZml4LCBzdmdzLCAncGxheScpO1xuXHRzZWxmLnBhdXNlU3ltYm9sID0gc3ZnKHByZWZpeCwgc3ZncywgJ3BhdXNlJyk7XG5cdHNlbGYucGxheSA9ICQoJ2J1dHRvbicsIHsgY2xhc3M6IGAke3ByZWZpeH0tY29udHJvbCAke3ByZWZpeH0tcGxheWAsICdkYXRhLWRpcic6IGRpciwgY2xpY2s6IG9uUGxheUNsaWNrLCBrZXlkb3duOiBvblRpbWVLZXlkb3duIH0sIHNlbGYucGxheVN5bWJvbCwgc2VsZi5wYXVzZVN5bWJvbCk7XG5cblx0Ly8gdGltZSBzbGlkZXJcblx0c2VsZi50aW1lTWV0ZXIgPSAkKCdzcGFuJywgeyBjbGFzczogYCR7cHJlZml4fS1tZXRlciAke3ByZWZpeH0tdGltZS1tZXRlcmAgfSk7XG5cdHNlbGYudGltZVJhbmdlID0gJCgnc3BhbicsIHsgY2xhc3M6IGAke3ByZWZpeH0tcmFuZ2UgJHtwcmVmaXh9LXRpbWUtcmFuZ2VgIH0sIHNlbGYudGltZU1ldGVyKTtcblx0c2VsZi50aW1lID0gJCgnYnV0dG9uJywgeyBjbGFzczogYCR7cHJlZml4fS1zbGlkZXIgJHtwcmVmaXh9LXRpbWVgLCByb2xlOiAnc2xpZGVyJywgJ2FyaWEtbGFiZWwnOiBsYW5nLmN1cnJlbnRUaW1lIHx8ICdjdXJyZW50IHRpbWUnLCAnZGF0YS1kaXInOiBvcHRzLnRpbWVEaXIgfHwgZGlyLCBjbGljazogb25UaW1lQ2xpY2ssIGtleWRvd246IG9uVGltZUtleWRvd24gfSwgc2VsZi50aW1lUmFuZ2UpO1xuXG5cdC8vIGN1cnJlbnQgdGltZSB0ZXh0XG5cdHNlbGYuY3VycmVudFRpbWVUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuXHRzZWxmLmN1cnJlbnRUaW1lID0gJCgnc3BhbicsIHsgY2xhc3M6IGAke3ByZWZpeH0tdGV4dCAke3ByZWZpeH0tY3VycmVudC10aW1lYCwgcm9sZTogJ3RpbWVyJywgJ2FyaWEtbGFiZWwnOiBsYW5nLmN1cnJlbnRUaW1lIHx8ICdjdXJyZW50IHRpbWUnIH0sIHNlbGYuY3VycmVudFRpbWVUZXh0KTtcblxuXHQvLyByZW1haW5pbmcgdGltZSB0ZXh0XG5cdHNlbGYucmVtYWluaW5nVGltZVRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG5cdHNlbGYucmVtYWluaW5nVGltZSA9ICQoJ3NwYW4nLCB7IGNsYXNzOiBgJHtwcmVmaXh9LXRleHQgJHtwcmVmaXh9LXJlbWFpbmluZy10aW1lYCwgcm9sZTogJ3RpbWVyJywgJ2FyaWEtbGFiZWwnOiBsYW5nLnJlbWFpbmluZ1RpbWUgfHwgJ3JlbWFpbmluZyB0aW1lJyB9LCBzZWxmLnJlbWFpbmluZ1RpbWVUZXh0KTtcblxuXHQvLyBtdXRlL3VubXV0ZSB0b2dnbGVcblx0c2VsZi5tdXRlU3ltYm9sID0gc3ZnKHByZWZpeCwgc3ZncywgJ211dGUnKTtcblx0c2VsZi51bm11dGVTeW1ib2wgPSBzdmcocHJlZml4LCBzdmdzLCAndW5tdXRlJyk7XG5cdHNlbGYubXV0ZSA9ICQoJ2J1dHRvbicsIHsgY2xhc3M6IGAke3ByZWZpeH0tY29udHJvbCAke3ByZWZpeH0tbXV0ZWAsICdkYXRhLWRpcic6IGRpciwgY2xpY2s6IG9uTXV0ZUNsaWNrLCBrZXlkb3duOiBvblZvbHVtZUtleWRvd24gfSwgc2VsZi5tdXRlU3ltYm9sLCBzZWxmLnVubXV0ZVN5bWJvbCk7XG5cblx0Ly8gdm9sdW1lIHNsaWRlclxuXHRzZWxmLnZvbHVtZU1ldGVyID0gJCgnc3BhbicsIHsgY2xhc3M6IGAke3ByZWZpeH0tbWV0ZXIgJHtwcmVmaXh9LXZvbHVtZS1tZXRlcmAgfSk7XG5cdHNlbGYudm9sdW1lUmFuZ2UgPSAkKCdzcGFuJywgeyBjbGFzczogYCR7cHJlZml4fS1yYW5nZSAke3ByZWZpeH0tdm9sdW1lLXJhbmdlYCB9LCBzZWxmLnZvbHVtZU1ldGVyKTtcblx0c2VsZi52b2x1bWUgPSAkKCdidXR0b24nLCB7IGNsYXNzOiBgJHtwcmVmaXh9LXNsaWRlciAke3ByZWZpeH0tdm9sdW1lYCwgcm9sZTogJ3NsaWRlcicsICdhcmlhLWxhYmVsJzogbGFuZy52b2x1bWUgfHwgJ3ZvbHVtZScsICdkYXRhLWRpcic6IG9wdHMudm9sdW1lRGlyIHx8IGRpciwgY2xpY2s6IG9uVm9sdW1lQ2xpY2ssIGtleWRvd246IG9uVm9sdW1lS2V5ZG93biB9LCBzZWxmLnZvbHVtZVJhbmdlKTtcblxuXHQvLyBkb3dubG9hZCBsaW5rXG5cdHNlbGYuZG93bmxvYWRMaW5rID0gc3ZnKHByZWZpeCwgc3ZncywgJ2Rvd25sb2FkJyk7XG5cdHNlbGYuZG93bmxvYWQgPSAkKCdidXR0b24nLCB7IGNsYXNzOiBgJHtwcmVmaXh9LWNvbnRyb2wgJHtwcmVmaXh9LWRvd25sb2FkYCwgJ2FyaWEtbGFiZWwnOiBsYW5nLmRvd25sb2FkIHx8ICdkb3dubG9hZCcsICdkYXRhLWRpcic6IGRpciB9LCBzZWxmLmRvd25sb2FkTGluayk7XG5cblx0Ly8gZnVsbHNjcmVlbiBsaW5rXG5cdHNlbGYuZW50ZXJGdWxsc2NyZWVuU3ltYm9sID0gc3ZnKHByZWZpeCwgc3ZncywgJ2VudGVyRnVsbHNjcmVlbicpO1xuXHRzZWxmLmxlYXZlRnVsbHNjcmVlblN5bWJvbCA9IHN2ZyhwcmVmaXgsIHN2Z3MsICdsZWF2ZUZ1bGxzY3JlZW4nKTtcblx0c2VsZi5mdWxsc2NyZWVuID0gJCgnYnV0dG9uJywgeyBjbGFzczogYCR7cHJlZml4fS1jb250cm9sICR7cHJlZml4fS1mdWxsc2NyZWVuYCwgJ2RhdGEtZGlyJzogZGlyLCBjbGljazogb25GdWxsc2NyZWVuQ2xpY2sgfSwgc2VsZi5lbnRlckZ1bGxzY3JlZW5TeW1ib2wsIHNlbGYubGVhdmVGdWxsc2NyZWVuU3ltYm9sKTtcblxuXHQvLyBwbGF5ZXIgdG9vbGJhclxuXHRzZWxmLnRvb2xiYXIgPSAkKCdkaXYnLFxuXHRcdHsgY2xhc3M6IGAke3ByZWZpeH0tdG9vbGJhcmAsIHJvbGU6ICd0b29sYmFyJywgJ2FyaWEtbGFiZWwnOiBsYW5nLnBsYXllciB8fCAnbWVkaWEgcGxheWVyJyB9LFxuXHRcdHNlbGYucGxheSwgc2VsZi5tdXRlLCBzZWxmLmN1cnJlbnRUaW1lLCBzZWxmLnJlbWFpbmluZ1RpbWUsIHNlbGYudm9sdW1lLCBzZWxmLnRpbWUsIHNlbGYuZG93bmxvYWQsIHNlbGYuZnVsbHNjcmVlblxuXHQpO1xuXG5cdC8vIHBsYXllclxuXHRjb25zdCBwbGF5ZXIgPSBzZWxmLnBsYXllciA9ICQoJ2RpdicsIHsgY2xhc3M6IGAke3ByZWZpeH0tcGxheWVyYCwgcm9sZTogJ3JlZ2lvbicsICdhcmlhLWxhYmVsJzogbGFuZy5wbGF5ZXIgfHwgJ21lZGlhIHBsYXllcicgfSwgc2VsZi50b29sYmFyKTtcblxuXHQvLyBmdWxsc2NyZWVuIGFwaVxuXHRjb25zdCBmdWxsc2NyZWVuY2hhbmdlID0gc2VsZi5fZnVsbHNjcmVlbmNoYW5nZSA9ICdvbmZ1bGxzY3JlZW5jaGFuZ2UnIGluIHBsYXllciA/ICdmdWxsc2NyZWVuY2hhbmdlJyA6ICdvbndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnIGluIHBsYXllciA/ICd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJyA6ICdvbm1vemZ1bGxzY3JlZW5jaGFuZ2UnIGluIHBsYXllciA/ICdtb3pmdWxsc2NyZWVuY2hhbmdlJyA6ICdvbk1TRnVsbHNjcmVlbkNoYW5nZScgaW4gcGxheWVyID8gJ01TRnVsbHNjcmVlbkNoYW5nZScgOiAnZnVsbHNjcmVlbmNoYW5nZSc7XG5cdGNvbnN0IGZ1bGxzY3JlZW5FbGVtZW50ID0gc2VsZi5fZnVsbHNjcmVlbkVsZW1lbnQgPSAoKSA9PiBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCB8fCBkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCB8fCBkb2N1bWVudC5tb3pGdWxsU2NyZWVuRWxlbWVudCB8fCBkb2N1bWVudC5tc0Z1bGxzY3JlZW5FbGVtZW50O1xuXHRjb25zdCByZXF1ZXN0RnVsbHNjcmVlbiA9IHNlbGYuX3JlcXVlc3RGdWxsc2NyZWVuID0gcGxheWVyLnJlcXVlc3RGdWxsc2NyZWVuIHx8IHBsYXllci53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbiB8fCBwbGF5ZXIubW96UmVxdWVzdEZ1bGxTY3JlZW4gfHwgcGxheWVyLm1zUmVxdWVzdEZ1bGxzY3JlZW47XG5cdGNvbnN0IGV4aXRGdWxsc2NyZWVuID0gc2VsZi5fZXhpdEZ1bGxzY3JlZW4gPSAoKSA9PiBkb2N1bWVudC5leGl0RnVsbHNjcmVlbiB8fCBkb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuIHx8IGRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4gfHwgZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbjtcblxuXHQvLyBsaXN0ZW4gZm9yIGZ1bGxzY3JlZW4gY2hhbmdlc1xuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGZ1bGxzY3JlZW5jaGFuZ2UsIG9uRnVsbHNjcmVlbkNoYW5nZSk7XG5cblx0Ly8gdXBkYXRlIG1lZGlhIGNsYXNzIGFuZCBjb250cm9sc1xuXHQkKG1lZGlhLCB7IGNsYXNzOiBgJHtwcmVmaXh9LW1lZGlhYCwgcGxheXNpbmxpbmU6ICcnLCAnd2Via2l0LXBsYXlzaW5saW5lJzogJycsIHJvbGU6ICdpbWcnLFx0IHRhYmluZGV4OiAtMSB9KS5jb250cm9scyA9IGZhbHNlO1xuXG5cdC8vIHJlcGxhY2UgdGhlIG1lZGlhIGVsZW1lbnQgd2l0aCB0aGUgbWVkaWEgcGxheWVyXG5cdGlmIChtZWRpYS5wYXJlbnROb2RlKSB7XG5cdFx0cGxheWVyLmluc2VydEJlZm9yZShcblx0XHRcdG1lZGlhLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHBsYXllciwgbWVkaWEpLFxuXHRcdFx0c2VsZi50b29sYmFyXG5cdFx0KTtcblx0fVxuXG5cdC8qIEludGVydmFsIEV2ZW50c1xuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0bGV0IHBhdXNlZCwgY3VycmVudFRpbWUsIGR1cmF0aW9uLCBpbnRlcnZhbDtcblxuXHQvLyB3aGVuIHRoZSBwbGF5IHN0YXRlIGNoYW5nZXNcblx0ZnVuY3Rpb24gb25QbGF5Q2hhbmdlKCkge1xuXHRcdGlmIChwYXVzZWQgIT09IG1lZGlhLnBhdXNlZCkge1xuXHRcdFx0cGF1c2VkID0gbWVkaWEucGF1c2VkO1xuXG5cdFx0XHQkKHNlbGYucGxheSwgeyAnYXJpYS1sYWJlbCc6IHBhdXNlZCA/IGxhbmcucGxheSB8fCAncGxheScgOiBsYW5nLnBhdXNlIHx8ICdwYXVzZScgfSk7XG5cdFx0XHQkKHNlbGYucGxheVN5bWJvbCwgeyAnYXJpYS1oaWRkZW4nOiAhcGF1c2VkIH0pO1xuXHRcdFx0JChzZWxmLnBhdXNlU3ltYm9sLCB7ICdhcmlhLWhpZGRlbic6IHBhdXNlZCB9KTtcblxuXHRcdFx0Y2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG5cblx0XHRcdGlmICghcGF1c2VkKSB7XG5cdFx0XHRcdC8vIGxpc3RlbiBmb3IgdGltZSBjaGFuZ2VzIGV2ZXJ5IDMwdGggb2YgYSBzZWNvbmRcblx0XHRcdFx0aW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChvblRpbWVDaGFuZ2UsIDM0KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gZGlzcGF0Y2ggbmV3IFwicGxheWNoYW5nZVwiIGV2ZW50XG5cdFx0XHRkaXNwYXRjaEN1c3RvbUV2ZW50KG1lZGlhLCAncGxheWNoYW5nZScpO1xuXHRcdH1cblx0fVxuXG5cdC8vIHdoZW4gdGhlIHRpbWUgY2hhbmdlc1xuXHRmdW5jdGlvbiBvblRpbWVDaGFuZ2UoKSB7XG5cdFx0aWYgKGN1cnJlbnRUaW1lICE9PSBtZWRpYS5jdXJyZW50VGltZSB8fCBkdXJhdGlvbiAhPT0gbWVkaWEuZHVyYXRpb24pIHtcblx0XHRcdGN1cnJlbnRUaW1lID0gbWVkaWEuY3VycmVudFRpbWU7XG5cdFx0XHRkdXJhdGlvbiA9IG1lZGlhLmR1cmF0aW9uIHx8IDA7XG5cblx0XHRcdGNvbnN0IGN1cnJlbnRUaW1lUGVyY2VudGFnZSA9IGN1cnJlbnRUaW1lIC8gZHVyYXRpb247XG5cdFx0XHRjb25zdCBjdXJyZW50VGltZUNvZGUgPSB0aW1lVG9UaW1lY29kZShjdXJyZW50VGltZSk7XG5cdFx0XHRjb25zdCByZW1haW5pbmdUaW1lQ29kZSA9IHRpbWVUb1RpbWVjb2RlKGR1cmF0aW9uIC0gTWF0aC5mbG9vcihjdXJyZW50VGltZSkpO1xuXG5cdFx0XHRpZiAoY3VycmVudFRpbWVDb2RlICE9PSBzZWxmLmN1cnJlbnRUaW1lVGV4dC5ub2RlVmFsdWUpIHtcblx0XHRcdFx0c2VsZi5jdXJyZW50VGltZVRleHQubm9kZVZhbHVlID0gY3VycmVudFRpbWVDb2RlO1xuXG5cdFx0XHRcdCQoc2VsZi5jdXJyZW50VGltZSwgeyB0aXRsZTogYCR7dGltZVRvQXVyYWwoY3VycmVudFRpbWUsIGxhbmcubWludXRlcyB8fCAnbWludXRlcycsIGxhbmcuc2Vjb25kcyB8fCAnc2Vjb25kcycpfWAgfSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChyZW1haW5pbmdUaW1lQ29kZSAhPT0gc2VsZi5yZW1haW5pbmdUaW1lVGV4dC5ub2RlVmFsdWUpIHtcblx0XHRcdFx0c2VsZi5yZW1haW5pbmdUaW1lVGV4dC5ub2RlVmFsdWUgPSByZW1haW5pbmdUaW1lQ29kZTtcblxuXHRcdFx0XHQkKHNlbGYucmVtYWluaW5nVGltZSwgeyB0aXRsZTogYCR7dGltZVRvQXVyYWwoZHVyYXRpb24gLSBjdXJyZW50VGltZSwgbGFuZy5taW51dGVzIHx8ICdtaW51dGVzJywgbGFuZy5zZWNvbmRzIHx8ICdzZWNvbmRzJyl9YCB9KTtcblx0XHRcdH1cblxuXHRcdFx0JChzZWxmLnRpbWUsIHsgJ2FyaWEtdmFsdWVub3cnOiBjdXJyZW50VGltZSwgJ2FyaWEtdmFsdWVtaW4nOiAwLCAnYXJpYS12YWx1ZW1heCc6IGR1cmF0aW9uIH0pO1xuXG5cdFx0XHRjb25zdCBkaXJJc0lubGluZSA9IC9eKGx0cnxydGwpJC9pLnRlc3Qoc2VsZi50aW1lLmdldEF0dHJpYnV0ZSgnZGF0YS1kaXInKSk7XG5cdFx0XHRjb25zdCBheGlzUHJvcCA9IGRpcklzSW5saW5lID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xuXG5cdFx0XHRzZWxmLnRpbWVNZXRlci5zdHlsZVtheGlzUHJvcF0gPSBgJHtjdXJyZW50VGltZVBlcmNlbnRhZ2UgKiAxMDB9JWA7XG5cblx0XHRcdC8vIGRpc3BhdGNoIG5ldyBcInRpbWVjaGFuZ2VcIiBldmVudFxuXHRcdFx0ZGlzcGF0Y2hDdXN0b21FdmVudChtZWRpYSwgJ3RpbWVjaGFuZ2UnKTtcblx0XHR9XG5cdH1cblxuXHQvLyB3aGVuIG1lZGlhIGxvYWRzIGZvciB0aGUgZmlyc3QgdGltZVxuXHRmdW5jdGlvbiBvbkxvYWRTdGFydCgpIHtcblx0XHRtZWRpYS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIG9uQ2FuUGxheVN0YXJ0KTtcblxuXHRcdCQobWVkaWEsIHsgY2FucGxheXRocm91Z2g6IG9uQ2FuUGxheVN0YXJ0IH0pO1xuXG5cdFx0JChzZWxmLmRvd25sb2FkLCB7IGhyZWY6IG1lZGlhLnNyYywgZG93bmxvYWQ6IG1lZGlhLnNyYyB9KTtcblxuXHRcdG9uUGxheUNoYW5nZSgpO1xuXHRcdG9uVm9sdW1lQ2hhbmdlKCk7XG5cdFx0b25GdWxsc2NyZWVuQ2hhbmdlKCk7XG5cdFx0b25UaW1lQ2hhbmdlKCk7XG5cdH1cblxuXHQvLyB3aGVuIHRoZSBpbW1lZGlhdGUgY3VycmVudCBwbGF5YmFjayBwb3NpdGlvbiBpcyBhdmFpbGFibGVcblx0ZnVuY3Rpb24gb25Mb2FkZWREYXRhKCkge1xuXHRcdG9uVGltZUNoYW5nZSgpO1xuXHR9XG5cblx0Ly8gd2hlbiB0aGUgbWVkaWEgY2FuIHBsYXlcblx0ZnVuY3Rpb24gb25DYW5QbGF5U3RhcnQoKSB7XG5cdFx0bWVkaWEucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCBvbkNhblBsYXlTdGFydCk7XG5cblx0XHQvLyBkaXNwYXRjaCBuZXcgXCJjYW5wbGF5c3RhcnRcIiBldmVudFxuXHRcdGRpc3BhdGNoQ3VzdG9tRXZlbnQobWVkaWEsICdjYW5wbGF5c3RhcnQnKTtcblxuXHRcdGlmICghcGF1c2VkIHx8IG1lZGlhLmF1dG9wbGF5KSB7XG5cdFx0XHRtZWRpYS5wbGF5KCk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gd2hlbiB0aGUgdm9sdW1lIGNoYW5nZXNcblx0ZnVuY3Rpb24gb25Wb2x1bWVDaGFuZ2UoKSB7XG5cdFx0Y29uc3Qgdm9sdW1lUGVyY2VudGFnZSA9IG1lZGlhLm11dGVkID8gMCA6IG1lZGlhLnZvbHVtZTtcblx0XHRjb25zdCBpc011dGVkID0gIXZvbHVtZVBlcmNlbnRhZ2U7XG5cblx0XHQkKHNlbGYudm9sdW1lLCB7ICdhcmlhLXZhbHVlbm93Jzogdm9sdW1lUGVyY2VudGFnZSwgJ2FyaWEtdmFsdWVtaW4nOiAwLCAnYXJpYS12YWx1ZW1heCc6IDEgfSk7XG5cblx0XHRjb25zdCBkaXJJc0lubGluZSA9IC9eKGx0cnxydGwpJC9pLnRlc3Qoc2VsZi52b2x1bWUuZ2V0QXR0cmlidXRlKCdkYXRhLWRpcicpKTtcblx0XHRjb25zdCBheGlzUHJvcCA9IGRpcklzSW5saW5lID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xuXG5cdFx0c2VsZi52b2x1bWVNZXRlci5zdHlsZVtheGlzUHJvcF0gPSBgJHt2b2x1bWVQZXJjZW50YWdlICogMTAwfSVgO1xuXG5cdFx0JChzZWxmLm11dGUsIHsgJ2FyaWEtbGFiZWwnOiBpc011dGVkID8gbGFuZy51bm11dGUgfHwgJ3VubXV0ZScgOiBsYW5nLm11dGUgfHwgJ211dGUnIH0pO1xuXHRcdCQoc2VsZi5tdXRlU3ltYm9sLCB7ICdhcmlhLWhpZGRlbic6IGlzTXV0ZWQgfSk7XG5cdFx0JChzZWxmLnVubXV0ZVN5bWJvbCwgeyAnYXJpYS1oaWRkZW4nOiAhaXNNdXRlZCB9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIG9uRnVsbHNjcmVlbkNoYW5nZSgpIHtcblx0XHRjb25zdCBpc0Z1bGxzY3JlZW4gPSBwbGF5ZXIgPT09IGZ1bGxzY3JlZW5FbGVtZW50KCk7XG5cblx0XHQkKHNlbGYuZnVsbHNjcmVlbiwgeyAnYXJpYS1sYWJlbCc6IGlzRnVsbHNjcmVlbiA/IGxhbmcubGVhdmVGdWxsc2NyZWVuIHx8ICdsZWF2ZSBmdWxsIHNjcmVlbicgOiBsYW5nLmVudGVyRnVsbHNjcmVlbiB8fCAnZW50ZXIgZnVsbCBzY3JlZW4nIH0pO1xuXHRcdCQoc2VsZi5lbnRlckZ1bGxzY3JlZW5TeW1ib2wsIHsgJ2FyaWEtaGlkZGVuJzogaXNGdWxsc2NyZWVuIH0pO1xuXHRcdCQoc2VsZi5sZWF2ZUZ1bGxzY3JlZW5TeW1ib2wsIHsgJ2FyaWEtaGlkZGVuJzogIWlzRnVsbHNjcmVlbiB9KTtcblx0fVxuXG5cdC8qIElucHV0IEV2ZW50c1xuXHQvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblx0Ly8gd2hlbiB0aGUgcGxheSBjb250cm9sIGlzIGNsaWNrZWRcblx0ZnVuY3Rpb24gb25QbGF5Q2xpY2soZXZlbnQpIHtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0bWVkaWFbbWVkaWEucGF1c2VkID8gJ3BsYXknIDogJ3BhdXNlJ10oKTtcblx0fVxuXG5cdC8vIHdoZW4gdGhlIHRpbWUgY29udHJvbFxuXHRmdW5jdGlvbiBvblRpbWVDbGljayhldmVudCkge1xuXHRcdC8vIGhhbmRsZSBjbGljayBpZiBjbGlja2VkIHdpdGhvdXQgcG9pbnRlclxuXHRcdGlmICghZXZlbnQucG9pbnRlclR5cGUgJiYgIWV2ZW50LmRldGFpbCkge1xuXHRcdFx0b25QbGF5Q2xpY2soZXZlbnQpO1xuXHRcdH1cblx0fVxuXG5cdC8vIGNsaWNrIGZyb20gbXV0ZSBjb250cm9sXG5cdGZ1bmN0aW9uIG9uTXV0ZUNsaWNrKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdG1lZGlhLm11dGVkID0gIW1lZGlhLm11dGVkO1xuXHR9XG5cblx0Ly8gY2xpY2sgZnJvbSB2b2x1bWUgY29udHJvbFxuXHRmdW5jdGlvbiBvblZvbHVtZUNsaWNrKGV2ZW50KSB7XG5cdFx0Ly8gaGFuZGxlIGNsaWNrIGlmIGNsaWNrZWQgd2l0aG91dCBwb2ludGVyXG5cdFx0aWYgKCFldmVudC5wb2ludGVyVHlwZSAmJiAhZXZlbnQuZGV0YWlsKSB7XG5cdFx0XHRvbk11dGVDbGljayhldmVudCk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gY2xpY2sgZnJvbSBmdWxsc2NyZWVuIGNvbnRyb2xcblx0ZnVuY3Rpb24gb25GdWxsc2NyZWVuQ2xpY2soKSB7XG5cdFx0aWYgKHJlcXVlc3RGdWxsc2NyZWVuKSB7XG5cdFx0XHRpZiAocGxheWVyID09PSBmdWxsc2NyZWVuRWxlbWVudCgpKSB7XG5cdFx0XHRcdC8vIGV4aXQgZnVsbHNjcmVlblxuXHRcdFx0XHRleGl0RnVsbHNjcmVlbigpLmNhbGwoZG9jdW1lbnQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gZW50ZXIgZnVsbHNjcmVlblxuXHRcdFx0XHRyZXF1ZXN0RnVsbHNjcmVlbi5jYWxsKHBsYXllcik7XG5cblx0XHRcdFx0Ly8gbWFpbnRhaW4gZm9jdXMgaW4gaW50ZXJuZXQgZXhwbG9yZXJcblx0XHRcdFx0c2VsZi5mdWxsc2NyZWVuLmZvY3VzKCk7XG5cblx0XHRcdFx0Ly8gbWFpbnRhaW4gZm9jdXMgaW4gc2FmYXJpXG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdHNlbGYuZnVsbHNjcmVlbi5mb2N1cygpO1xuXHRcdFx0XHR9LCAyMDApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAobWVkaWEud2Via2l0U3VwcG9ydHNGdWxsc2NyZWVuKSB7XG5cdFx0XHQvLyBpT1MgYWxsb3dzIGZ1bGxzY3JlZW4gb2YgdGhlIHZpZGVvIGl0c2VsZlxuXHRcdFx0aWYgKG1lZGlhLndlYmtpdERpc3BsYXlpbmdGdWxsc2NyZWVuKSB7XG5cdFx0XHRcdC8vIGV4aXQgaW9zIGZ1bGxzY3JlZW5cblx0XHRcdFx0bWVkaWEud2Via2l0RXhpdEZ1bGxzY3JlZW4oKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIGVudGVyIGlvcyBmdWxsc2NyZWVuXG5cdFx0XHRcdG1lZGlhLndlYmtpdEVudGVyRnVsbHNjcmVlbigpO1xuXHRcdFx0fVxuXG5cdFx0XHRvbkZ1bGxzY3JlZW5DaGFuZ2UoKTtcblx0XHR9XG5cdH1cblxuXHQvLyBrZXlkb3duIGZyb20gcGxheSBjb250cm9sIG9yIGN1cnJlbnQgdGltZSBjb250cm9sXG5cdGZ1bmN0aW9uIG9uVGltZUtleWRvd24oZXZlbnQpIHtcblx0XHRjb25zdCB7IGtleUNvZGUsIHNoaWZ0S2V5IH0gPSBldmVudDtcblxuXHRcdC8vIDM3OiBMRUZULCAzOCBpcyBVUCwgMzk6IFJJR0hULCA0MDogRE9XTlxuXHRcdGlmICgzNyA8PSBrZXlDb2RlICYmIDQwID49IGtleUNvZGUpIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdGNvbnN0IGlzTFRSID0gJ2x0cicgPT09IGdldENvbXB1dGVkU3R5bGUoc2VsZi50aW1lKS5kaXJlY3Rpb247XG5cdFx0XHRjb25zdCBvZmZzZXQgPSAzNyA9PT0ga2V5Q29kZSB8fCAzOSA9PT0ga2V5Q29kZSA/IGtleUNvZGUgLSAzOCA6IGtleUNvZGUgLSAzOTtcblxuXHRcdFx0bWVkaWEuY3VycmVudFRpbWUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihkdXJhdGlvbiwgY3VycmVudFRpbWUgKyBvZmZzZXQgKiAoaXNMVFIgPyAxIDogLTEpICogKHNoaWZ0S2V5ID8gMTAgOiAxKSkpO1xuXG5cdFx0XHRvblRpbWVDaGFuZ2UoKTtcblx0XHR9XG5cdH1cblxuXHQvLyBrZXlkb3duIGZyb20gbXV0ZSBjb250cm9sIG9yIHZvbHVtZSBjb250cm9sXG5cdGZ1bmN0aW9uIG9uVm9sdW1lS2V5ZG93bihldmVudCkge1xuXHRcdGNvbnN0IHsga2V5Q29kZSwgc2hpZnRLZXkgfSA9IGV2ZW50O1xuXG5cdFx0Ly8gMzc6IExFRlQsIDM4IGlzIFVQLCAzOTogUklHSFQsIDQwOiBET1dOXG5cdFx0aWYgKDM3IDw9IGtleUNvZGUgJiYgNDAgPj0ga2V5Q29kZSkge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0Y29uc3QgaXNMVFIgPSAnbHRyJyA9PT0gZ2V0Q29tcHV0ZWRTdHlsZShzZWxmLnRpbWUpLmRpcmVjdGlvbjtcblx0XHRcdGNvbnN0IG9mZnNldCA9IDM3ID09PSBrZXlDb2RlIHx8IDM5ID09PSBrZXlDb2RlID8ga2V5Q29kZSAtIDM4IDogaXNMVFIgPyAzOSAtIGtleUNvZGUgOiBrZXlDb2RlIC0gMzk7XG5cblx0XHRcdG1lZGlhLnZvbHVtZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIG1lZGlhLnZvbHVtZSArIG9mZnNldCAqIChpc0xUUiA/IDAuMSA6IC0wLjEpICogKHNoaWZ0S2V5ID8gMSA6IDAuMikpKTtcblx0XHR9XG5cdH1cblxuXHQvLyBwb2ludGVyIGV2ZW50cyBmcm9tIHRpbWUgY29udHJvbFxuXHRvbkRyYWcoc2VsZi50aW1lLCBzZWxmLnRpbWVSYW5nZSwgKHBlcmNlbnRhZ2UpID0+IHtcblx0XHRtZWRpYS5jdXJyZW50VGltZSA9IGR1cmF0aW9uICogTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgcGVyY2VudGFnZSkpO1xuXG5cdFx0b25UaW1lQ2hhbmdlKCk7XG5cdH0pO1xuXG5cdC8vIHBvaW50ZXIgZXZlbnRzIGZyb20gdm9sdW1lIGNvbnRyb2xcblx0b25EcmFnKHNlbGYudm9sdW1lLCBzZWxmLnZvbHVtZVJhbmdlLCAocGVyY2VudGFnZSkgPT4ge1xuXHRcdG1lZGlhLnZvbHVtZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHBlcmNlbnRhZ2UpKTtcblx0fSk7XG5cblx0b25Mb2FkU3RhcnQoKTtcbn1cblxuLyogSGFuZGxlIERyYWcgUmFuZ2VzXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiBvbkRyYWcodGFyZ2V0LCBpbm5lclRhcmdldCwgbGlzdGVuZXIpIHtcblx0Y29uc3QgaGFzUG9pbnRlckV2ZW50ID0gdW5kZWZpbmVkICE9PSB0YXJnZXQub25wb2ludGVydXA7XG5cdGNvbnN0IGhhc1RvdWNoRXZlbnQgICA9IHVuZGVmaW5lZCAhPT0gdGFyZ2V0Lm9udG91Y2hzdGFydDtcblx0Y29uc3QgcG9pbnRlckRvd24gPSBoYXNQb2ludGVyRXZlbnQgPyAncG9pbnRlcmRvd24nIDogaGFzVG91Y2hFdmVudCA/ICd0b3VjaHN0YXJ0JyA6ICdtb3VzZWRvd24nO1xuXHRjb25zdCBwb2ludGVyTW92ZSA9IGhhc1BvaW50ZXJFdmVudCA/ICdwb2ludGVybW92ZScgOiBoYXNUb3VjaEV2ZW50ID8gJ3RvdWNobW92ZScgOiAnbW91c2Vtb3ZlJztcblx0Y29uc3QgcG9pbnRlclVwICAgPSBoYXNQb2ludGVyRXZlbnQgPyAncG9pbnRlcnVwJyAgIDogaGFzVG91Y2hFdmVudCA/ICd0b3VjaGVuZCcgOiAnbW91c2V1cCc7XG5cblx0bGV0IHdpbmRvdywgcmVjdCwgZGlyLCBkaXJJc0lubGluZSwgZGlySXNTdGFydDtcblxuXHQvLyBvbiBwb2ludGVyIGRvd25cblx0dGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIocG9pbnRlckRvd24sIG9ucG9pbnRlcmRvd24pO1xuXG5cdGZ1bmN0aW9uIG9ucG9pbnRlcmRvd24oZXZlbnQpIHtcblx0XHQvLyB3aW5kb3dcblx0XHR3aW5kb3cgPSB0YXJnZXQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcblxuXHRcdC8vIGNsaWVudCBib3VuZGFyaWVzXG5cdFx0cmVjdCA9IGlubmVyVGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0Ly8gZHJhZyBkaXJlY3Rpb25cblx0XHRkaXIgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWRpcicpIHx8ICdsdHInO1xuXG5cdFx0ZGlySXNJbmxpbmUgPSAvXihsdHJ8cnRsKSQvaS50ZXN0KGRpcik7XG5cdFx0ZGlySXNTdGFydCAgPSAvXihsdHJ8dHRiKSQvaS50ZXN0KGRpcik7XG5cblx0XHRvbnBvaW50ZXJtb3ZlKGV2ZW50KTtcblxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKHBvaW50ZXJNb3ZlLCBvbnBvaW50ZXJtb3ZlKTtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihwb2ludGVyVXAsIG9ucG9pbnRlcnVwKTtcblx0fVxuXG5cdGZ1bmN0aW9uIG9ucG9pbnRlcm1vdmUoZXZlbnQpIHtcblx0XHQvLyBwcmV2ZW50IGJyb3dzZXIgYWN0aW9ucyBvbiB0aGlzIGV2ZW50XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdC8vIHRoZSBwb2ludGVyIGNvb3JkaW5hdGVcblx0XHRjb25zdCBheGlzUHJvcCA9IGRpcklzSW5saW5lID8gJ2NsaWVudFgnIDogJ2NsaWVudFknO1xuXHRcdGNvbnN0IHBvc2l0aW9uID0gYXhpc1Byb3AgaW4gZXZlbnQgPyBldmVudFtheGlzUHJvcF0gOiBldmVudC50b3VjaGVzICYmIGV2ZW50LnRvdWNoZXNbMF0gJiYgZXZlbnQudG91Y2hlc1swXVtheGlzUHJvcF0gfHwgMDtcblxuXHRcdC8vIHRoZSBjb250YWluZXIgc3RhcnQgYW5kIGVuZCBjb29yZGluYXRlc1xuXHRcdGNvbnN0IHN0YXJ0ID0gZGlySXNJbmxpbmUgPyByZWN0LmxlZnQgOiByZWN0LnRvcDtcblx0XHRjb25zdCBlbmQgICA9IGRpcklzSW5saW5lID8gcmVjdC5yaWdodCA6IHJlY3QuYm90dG9tO1xuXG5cdFx0Ly8gdGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIHBvaW50ZXIgYWxvbmcgdGhlIGNvbnRhaW5lclxuXHRcdGNvbnN0IHBlcmNlbnRhZ2UgPSAoZGlySXNTdGFydCA/IHBvc2l0aW9uIC0gc3RhcnQgOiBlbmQgLSBwb3NpdGlvbikgLyAoZW5kIC0gc3RhcnQpO1xuXG5cdFx0Ly8gY2FsbCB0aGUgbGlzdGVuZXIgd2l0aCBwZXJjZW50YWdlXG5cdFx0bGlzdGVuZXIocGVyY2VudGFnZSk7XG5cdH1cblxuXHRmdW5jdGlvbiBvbnBvaW50ZXJ1cCgpIHtcblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihwb2ludGVyTW92ZSwgb25wb2ludGVybW92ZSk7XG5cdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIocG9pbnRlclVwLCBvbnBvaW50ZXJ1cCk7XG5cdH1cbn1cblxuLyogVGltZSBUbyBUaW1lY29kZVxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiB0aW1lVG9UaW1lY29kZSh0aW1lKSB7XG5cdHJldHVybiBgJHtgMCR7TWF0aC5mbG9vcih0aW1lIC8gNjApfWAuc2xpY2UoLTIpfToke2AwJHtNYXRoLmZsb29yKHRpbWUgJSA2MCl9YC5zbGljZSgtMil9YDtcbn1cblxuLyogVGltZSBUbyBBdXJhbFxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiB0aW1lVG9BdXJhbCh0aW1lLCBsYW5nTWludXRlcywgbGFuZ1NlY29uZHMpIHtcblx0cmV0dXJuIGAke01hdGguZmxvb3IodGltZSAvIDYwKX0gJHtsYW5nTWludXRlc30sICR7TWF0aC5mbG9vcih0aW1lICUgNjApfSAke2xhbmdTZWNvbmRzfWA7XG59XG5cbi8qIFVwZGF0ZSBFbGVtZW50c1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gJChyYXdpZCkge1xuXHRjb25zdCBpZCA9IHJhd2lkIGluc3RhbmNlb2YgTm9kZSA/IHJhd2lkIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChyYXdpZCk7XG5cdGNvbnN0IGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cblx0Zm9yIChsZXQgaW5kZXggaW4gYXJncykge1xuXHRcdGlmIChhcmdzW2luZGV4XSBpbnN0YW5jZW9mIE5vZGUpIHtcblx0XHRcdGlkLmFwcGVuZENoaWxkKGFyZ3NbaW5kZXhdKTtcblx0XHR9IGVsc2UgaWYgKE9iamVjdChhcmdzW2luZGV4XSkgPT09IGFyZ3NbaW5kZXhdKSB7XG5cdFx0XHRmb3IgKGxldCBhdHRyIGluIGFyZ3NbaW5kZXhdKSB7XG5cdFx0XHRcdGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2YgYXJnc1tpbmRleF1bYXR0cl0pIHtcblx0XHRcdFx0XHRpZC5hZGRFdmVudExpc3RlbmVyKGF0dHIsIGFyZ3NbaW5kZXhdW2F0dHJdKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZC5zZXRBdHRyaWJ1dGUoYXR0ciwgYXJnc1tpbmRleF1bYXR0cl0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGlkO1xufVxuXG5mdW5jdGlvbiBzdmcocHJlZml4LCBzdmdzLCB0eXBlKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbWF4LXBhcmFtc1xuXHRjb25zdCBzdmducyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5cdGNvbnN0IHVzZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmducywgJ3VzZScpO1xuXG5cdHVzZS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsICdocmVmJywgc3Znc1t0eXBlXSB8fCBgI3N5bWJvbC0ke3R5cGV9YCk7XG5cblx0cmV0dXJuICQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z25zLCAnc3ZnJyksIHtcblx0XHRjbGFzczogYCR7cHJlZml4fS1zeW1ib2wgJHtwcmVmaXh9LSR7dHlwZX0tc3ltYm9sYCxcblx0XHRyb2xlOiAncHJlc2VudGF0aW9uJ1xuXHR9LCB1c2UpO1xufVxuXG4vKiBEaXNwYXRjaCBFdmVudHNcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gZGlzcGF0Y2hDdXN0b21FdmVudChub2RlLCB0eXBlKSB7XG5cdGNvbnN0IGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG5cblx0ZXZlbnQuaW5pdEN1c3RvbUV2ZW50KHR5cGUsIHRydWUsIHRydWUsIHVuZGVmaW5lZCk7XG5cblx0bm9kZS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn1cbiJdLCJuYW1lcyI6WyJvbkRyYWciLCJ0YXJnZXQiLCJpbm5lclRhcmdldCIsImxpc3RlbmVyIiwib25wb2ludGVybW92ZSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJheGlzUHJvcCIsImRpcklzSW5saW5lIiwicG9zaXRpb24iLCJ0b3VjaGVzIiwic3RhcnQiLCJyZWN0IiwibGVmdCIsInRvcCIsImVuZCIsInJpZ2h0IiwiYm90dG9tIiwiZGlySXNTdGFydCIsIm9ucG9pbnRlcnVwIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInBvaW50ZXJNb3ZlIiwicG9pbnRlclVwIiwiaGFzUG9pbnRlckV2ZW50IiwidW5kZWZpbmVkIiwiaGFzVG91Y2hFdmVudCIsIm9udG91Y2hzdGFydCIsInBvaW50ZXJEb3duIiwid2luZG93IiwiZGlyIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm93bmVyRG9jdW1lbnQiLCJkZWZhdWx0VmlldyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImdldEF0dHJpYnV0ZSIsInRlc3QiLCJ0aW1lVG9UaW1lY29kZSIsInRpbWUiLCJNYXRoIiwiZmxvb3IiLCJzbGljZSIsInRpbWVUb0F1cmFsIiwibGFuZ01pbnV0ZXMiLCJsYW5nU2Vjb25kcyIsIiQiLCJyYXdpZCIsImlkIiwiTm9kZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImFyZ3MiLCJjYWxsIiwiYXJndW1lbnRzIiwiaW5kZXgiLCJhcHBlbmRDaGlsZCIsIk9iamVjdCIsImF0dHIiLCJzZXRBdHRyaWJ1dGUiLCJzdmciLCJwcmVmaXgiLCJzdmdzIiwidHlwZSIsInN2Z25zIiwidXNlIiwiY3JlYXRlRWxlbWVudE5TIiwic2V0QXR0cmlidXRlTlMiLCJkaXNwYXRjaEN1c3RvbUV2ZW50Iiwibm9kZSIsImNyZWF0ZUV2ZW50IiwiaW5pdEN1c3RvbUV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsIm1lZGlhIiwicmF3b3B0cyIsIm9uUGxheUNoYW5nZSIsInBhdXNlZCIsInNlbGYiLCJwbGF5IiwiYXJpYS1sYWJlbCIsImxhbmciLCJwYXVzZSIsInBsYXlTeW1ib2wiLCJhcmlhLWhpZGRlbiIsInBhdXNlU3ltYm9sIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsIm9uVGltZUNoYW5nZSIsImN1cnJlbnRUaW1lIiwiZHVyYXRpb24iLCJjdXJyZW50VGltZVBlcmNlbnRhZ2UiLCJjdXJyZW50VGltZUNvZGUiLCJyZW1haW5pbmdUaW1lQ29kZSIsImN1cnJlbnRUaW1lVGV4dCIsIm5vZGVWYWx1ZSIsInRpdGxlIiwibWludXRlcyIsInNlY29uZHMiLCJyZW1haW5pbmdUaW1lVGV4dCIsInJlbWFpbmluZ1RpbWUiLCJhcmlhLXZhbHVlbm93IiwiYXJpYS12YWx1ZW1pbiIsImFyaWEtdmFsdWVtYXgiLCJ0aW1lTWV0ZXIiLCJzdHlsZSIsIm9uTG9hZFN0YXJ0Iiwib25DYW5QbGF5U3RhcnQiLCJjYW5wbGF5dGhyb3VnaCIsImRvd25sb2FkIiwiaHJlZiIsInNyYyIsImF1dG9wbGF5Iiwib25Wb2x1bWVDaGFuZ2UiLCJ2b2x1bWVQZXJjZW50YWdlIiwibXV0ZWQiLCJ2b2x1bWUiLCJpc011dGVkIiwidm9sdW1lTWV0ZXIiLCJtdXRlIiwidW5tdXRlIiwibXV0ZVN5bWJvbCIsInVubXV0ZVN5bWJvbCIsIm9uRnVsbHNjcmVlbkNoYW5nZSIsImlzRnVsbHNjcmVlbiIsInBsYXllciIsImZ1bGxzY3JlZW5FbGVtZW50IiwiZnVsbHNjcmVlbiIsImxlYXZlRnVsbHNjcmVlbiIsImVudGVyRnVsbHNjcmVlbiIsImVudGVyRnVsbHNjcmVlblN5bWJvbCIsImxlYXZlRnVsbHNjcmVlblN5bWJvbCIsIm9uUGxheUNsaWNrIiwib25NdXRlQ2xpY2siLCJvblRpbWVLZXlkb3duIiwia2V5Q29kZSIsInNoaWZ0S2V5IiwiaXNMVFIiLCJnZXRDb21wdXRlZFN0eWxlIiwiZGlyZWN0aW9uIiwib2Zmc2V0IiwibWF4IiwibWluIiwib25Wb2x1bWVLZXlkb3duIiwidGhpcyIsIm9wdHMiLCJTdHJpbmciLCJ0b0xvd2VyQ2FzZSIsImNsYXNzIiwiZGF0YS1kaXIiLCJjbGljayIsImtleWRvd24iLCJ0aW1lUmFuZ2UiLCJyb2xlIiwidGltZURpciIsInBvaW50ZXJUeXBlIiwiZGV0YWlsIiwiY3JlYXRlVGV4dE5vZGUiLCJ2b2x1bWVSYW5nZSIsInZvbHVtZURpciIsImRvd25sb2FkTGluayIsInJlcXVlc3RGdWxsc2NyZWVuIiwiZm9jdXMiLCJ3ZWJraXRTdXBwb3J0c0Z1bGxzY3JlZW4iLCJ3ZWJraXREaXNwbGF5aW5nRnVsbHNjcmVlbiIsIndlYmtpdEV4aXRGdWxsc2NyZWVuIiwid2Via2l0RW50ZXJGdWxsc2NyZWVuIiwidG9vbGJhciIsImZ1bGxzY3JlZW5jaGFuZ2UiLCJfZnVsbHNjcmVlbmNoYW5nZSIsIl9mdWxsc2NyZWVuRWxlbWVudCIsIndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50IiwibW96RnVsbFNjcmVlbkVsZW1lbnQiLCJtc0Z1bGxzY3JlZW5FbGVtZW50IiwiX3JlcXVlc3RGdWxsc2NyZWVuIiwid2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4iLCJtb3pSZXF1ZXN0RnVsbFNjcmVlbiIsIm1zUmVxdWVzdEZ1bGxzY3JlZW4iLCJleGl0RnVsbHNjcmVlbiIsIl9leGl0RnVsbHNjcmVlbiIsIndlYmtpdENhbmNlbEZ1bGxTY3JlZW4iLCJtb3pDYW5jZWxGdWxsU2NyZWVuIiwibXNFeGl0RnVsbHNjcmVlbiIsInBsYXlzaW5saW5lIiwid2Via2l0LXBsYXlzaW5saW5lIiwidGFiaW5kZXgiLCJjb250cm9scyIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJyZXBsYWNlQ2hpbGQiLCJwZXJjZW50YWdlIl0sIm1hcHBpbmdzIjoid0NBc1VBLFNBQVNBLEVBQU9DLEVBQVFDLEVBQWFDLFlBK0IzQkMsRUFBY0MsS0FFaEJDLHFCQUdBQyxFQUFXQyxFQUFjLFVBQVksVUFDckNDLEVBQVdGLEtBQVlGLEVBQVFBLEVBQU1FLEdBQVlGLEVBQU1LLFNBQVdMLEVBQU1LLFFBQVEsSUFBTUwsRUFBTUssUUFBUSxHQUFHSCxJQUFhLEVBR3BISSxFQUFRSCxFQUFjSSxFQUFLQyxLQUFPRCxFQUFLRSxJQUN2Q0MsRUFBUVAsRUFBY0ksRUFBS0ksTUFBUUosRUFBS0ssVUFHMUJDLEVBQWFULEVBQVdFLEVBQVFJLEVBQU1OLElBQWFNLEVBQU1KLGFBTXJFUSxNQUNEQyxvQkFBb0JDLEVBQWFqQixLQUNqQ2dCLG9CQUFvQkUsRUFBV0gsT0FuRGpDSSxPQUFrQkMsSUFBY3ZCLEVBQU9rQixZQUN2Q00sT0FBa0JELElBQWN2QixFQUFPeUIsYUFDdkNDLEVBQWNKLEVBQWtCLGNBQWdCRSxFQUFnQixhQUFlLFlBQy9FSixFQUFjRSxFQUFrQixjQUFnQkUsRUFBZ0IsWUFBYyxZQUM5RUgsRUFBY0MsRUFBa0IsWUFBZ0JFLEVBQWdCLFdBQWEsVUFFL0VHLFNBQVFoQixTQUFNaUIsU0FBS3JCLFNBQWFVLFdBRzdCWSxpQkFBaUJILFdBRUR0QixLQUViSixFQUFPOEIsY0FBY0MsY0FHdkI5QixFQUFZK0IsMEJBR2JoQyxFQUFPaUMsYUFBYSxhQUFlLFFBRTNCLGVBQWVDLEtBQUtOLEtBQ3BCLGVBQWVNLEtBQUtOLEtBRXBCeEIsS0FFUHlCLGlCQUFpQlQsRUFBYWpCLEtBQzlCMEIsaUJBQWlCUixFQUFXSCxLQStCckMsU0FBU2lCLEVBQWVDLGNBQ1RDLEtBQUtDLE1BQU1GLEVBQU8sS0FBTUcsT0FBTyxZQUFVRixLQUFLQyxNQUFNRixFQUFPLEtBQU1HLE9BQU8sR0FNdkYsU0FBU0MsRUFBWUosRUFBTUssRUFBYUMsVUFDN0JMLEtBQUtDLE1BQU1GLEVBQU8sUUFBT0ssT0FBZ0JKLEtBQUtDLE1BQU1GLEVBQU8sUUFBT00sRUFNN0UsU0FBU0MsRUFBRUMsT0FDSkMsRUFBS0QsYUFBaUJFLEtBQU9GLEVBQVFHLFNBQVNDLGNBQWNKLEdBQzVESyxLQUFVVixNQUFNVyxLQUFLQyxVQUFXLE9BRWpDLElBQUlDLEtBQVNILEtBQ2JBLEVBQUtHLGFBQWtCTixPQUN2Qk8sWUFBWUosRUFBS0csU0FDZCxHQUFJRSxPQUFPTCxFQUFLRyxNQUFZSCxFQUFLRyxPQUNsQyxJQUFJRyxLQUFRTixFQUFLRyxHQUNqQixtQkFBc0JILEVBQUtHLEdBQU9HLEtBQ2xDMUIsaUJBQWlCMEIsRUFBTU4sRUFBS0csR0FBT0csTUFFbkNDLGFBQWFELEVBQU1OLEVBQUtHLEdBQU9HLFdBTS9CVixFQUdSLFNBQVNZLEVBQUlDLEVBQVFDLEVBQU1DLE9BQ3BCQyxFQUFRLDZCQUNSQyxFQUFNZixTQUFTZ0IsZ0JBQWdCRixFQUFPLGdCQUV4Q0csZUFBZSwrQkFBZ0MsT0FBUUwsRUFBS0MsZUFBb0JBLEdBRTdFakIsRUFBRUksU0FBU2dCLGdCQUFnQkYsRUFBTyxjQUM5QkgsYUFBaUJBLE1BQVVFLGlCQUMvQixnQkFDSkUsR0FNSixTQUFTRyxFQUFvQkMsRUFBTU4sT0FDNUJ4RCxFQUFRMkMsU0FBU29CLFlBQVksaUJBRTdCQyxnQkFBZ0JSLEdBQU0sR0FBTSxPQUFNckMsS0FFbkM4QyxjQUFjakUsVUFyYnBCLFNBQW9Da0UsRUFBT0MsWUFrR2pDQyxJQUNKQyxJQUFXSCxFQUFNRyxXQUNYSCxFQUFNRyxTQUViQyxFQUFLQyxNQUFRQyxhQUFjSCxFQUFTSSxFQUFLRixNQUFRLE9BQVNFLEVBQUtDLE9BQVMsWUFDeEVKLEVBQUtLLFlBQWNDLGVBQWdCUCxNQUNuQ0MsRUFBS08sYUFBZUQsY0FBZVAsa0JBRXZCUyxHQUVUVCxNQUVPVSxZQUFZQyxFQUFjLE9BSWxCZCxFQUFPLHdCQUtwQmMsT0FDSkMsSUFBZ0JmLEVBQU1lLGFBQWVDLElBQWFoQixFQUFNZ0IsU0FBVSxHQUN2RGhCLEVBQU1lLGNBQ1RmLEVBQU1nQixVQUFZLE1BRXZCQyxFQUF3QkYsRUFBY0MsRUFDdENFLEVBQWtCckQsRUFBZWtELEdBQ2pDSSxFQUFvQnRELEVBQWVtRCxFQUFXakQsS0FBS0MsTUFBTStDLElBRTNERyxJQUFvQmQsRUFBS2dCLGdCQUFnQkMsY0FDdkNELGdCQUFnQkMsVUFBWUgsSUFFL0JkLEVBQUtXLGFBQWVPLFNBQVVwRCxFQUFZNkMsRUFBYVIsRUFBS2dCLFNBQVcsVUFBV2hCLEVBQUtpQixTQUFXLGNBR2pHTCxJQUFzQmYsRUFBS3FCLGtCQUFrQkosY0FDM0NJLGtCQUFrQkosVUFBWUYsSUFFakNmLEVBQUtzQixlQUFpQkosU0FBVXBELEVBQVk4QyxFQUFXRCxFQUFhUixFQUFLZ0IsU0FBVyxVQUFXaEIsRUFBS2lCLFNBQVcsZ0JBR2hIcEIsRUFBS3RDLE1BQVE2RCxnQkFBaUJaLEVBQWFhLGdCQUFpQixFQUFHQyxnQkFBaUJiLFFBRzVFaEYsRUFEYyxlQUFlNEIsS0FBS3dDLEVBQUt0QyxLQUFLSCxhQUFhLGFBQ2hDLFFBQVUsV0FFcENtRSxVQUFVQyxNQUFNL0YsR0FBdUMsSUFBeEJpRixRQUdoQmpCLEVBQU8sd0JBS3BCZ0MsTUFDRm5GLG9CQUFvQixpQkFBa0JvRixLQUUxQ2pDLEdBQVNrQyxlQUFnQkQsTUFFekI3QixFQUFLK0IsVUFBWUMsS0FBTXBDLEVBQU1xQyxJQUFLRixTQUFVbkMsRUFBTXFDLCtCQWM1Q0osTUFDRnBGLG9CQUFvQixpQkFBa0JvRixLQUd4QmpDLEVBQU8sZ0JBRXRCRyxJQUFVSCxFQUFNc0MsWUFDZGpDLGdCQUtDa0MsUUFDRkMsRUFBbUJ4QyxFQUFNeUMsTUFBUSxFQUFJekMsRUFBTTBDLE9BQzNDQyxHQUFXSCxJQUVmcEMsRUFBS3NDLFFBQVVmLGdCQUFpQmEsRUFBa0JaLGdCQUFpQixFQUFHQyxnQkFBaUIsUUFHbkY3RixFQURjLGVBQWU0QixLQUFLd0MsRUFBS3NDLE9BQU8vRSxhQUFhLGFBQ2xDLFFBQVUsV0FFcENpRixZQUFZYixNQUFNL0YsR0FBa0MsSUFBbkJ3RyxRQUVwQ3BDLEVBQUt5QyxNQUFRdkMsYUFBY3FDLEVBQVVwQyxFQUFLdUMsUUFBVSxTQUFXdkMsRUFBS3NDLE1BQVEsV0FDNUV6QyxFQUFLMkMsWUFBY3JDLGNBQWVpQyxNQUNsQ3ZDLEVBQUs0QyxjQUFnQnRDLGVBQWdCaUMsYUFHL0JNLFFBQ0ZDLEVBQWVDLElBQVdDLE1BRTlCaEQsRUFBS2lELFlBQWMvQyxhQUFjNEMsRUFBZTNDLEVBQUsrQyxpQkFBbUIsb0JBQXNCL0MsRUFBS2dELGlCQUFtQix3QkFDdEhuRCxFQUFLb0QsdUJBQXlCOUMsY0FBZXdDLE1BQzdDOUMsRUFBS3FELHVCQUF5Qi9DLGVBQWdCd0MsYUFPeENRLEVBQVk1SCxLQUNkQyxtQkFFQWlFLEVBQU1HLE9BQVMsT0FBUyxvQkFZdEJ3RCxFQUFZN0gsS0FDZEMsbUJBRUEwRyxPQUFTekMsRUFBTXlDLGVBNENibUIsRUFBYzlILE9BQ2QrSCxFQUFzQi9ILEVBQXRCK0gsUUFBU0MsRUFBYWhJLEVBQWJnSSxZQUdiLElBQU1ELEdBQVcsSUFBTUEsRUFBUyxHQUM3QjlILHFCQUVBZ0ksRUFBUSxRQUFVQyxpQkFBaUI1RCxFQUFLdEMsTUFBTW1HLFVBQzlDQyxFQUFTLEtBQU9MLEdBQVcsS0FBT0EsRUFBVUEsRUFBVSxHQUFLQSxFQUFVLEtBRXJFOUMsWUFBY2hELEtBQUtvRyxJQUFJLEVBQUdwRyxLQUFLcUcsSUFBSXBELEVBQVVELEVBQWNtRCxHQUFVSCxFQUFRLEdBQUssSUFBTUQsRUFBVyxHQUFLLG1CQU92R08sRUFBZ0J2SSxPQUNoQitILEVBQXNCL0gsRUFBdEIrSCxRQUFTQyxFQUFhaEksRUFBYmdJLFlBR2IsSUFBTUQsR0FBVyxJQUFNQSxFQUFTLEdBQzdCOUgscUJBRUFnSSxFQUFRLFFBQVVDLGlCQUFpQjVELEVBQUt0QyxNQUFNbUcsVUFDOUNDLEVBQVMsS0FBT0wsR0FBVyxLQUFPQSxFQUFVQSxFQUFVLEdBQUtFLEVBQVEsR0FBS0YsRUFBVUEsRUFBVSxLQUU1Rm5CLE9BQVMzRSxLQUFLb0csSUFBSSxFQUFHcEcsS0FBS3FHLElBQUksRUFBR3BFLEVBQU0wQyxPQUFTd0IsR0FBVUgsRUFBUSxJQUFPLEtBQVFELEVBQVcsRUFBSSxXQXpTbEcxRCxFQUFPa0UsS0FDUEMsRUFBT3ZGLE9BQU9pQixHQUNkYixFQUFTbUYsRUFBS25GLFFBQVUsUUFDeEI5QixFQUFPLHVCQUF1Qk0sS0FBSzJHLEVBQUtqSCxLQUFPa0gsT0FBT0QsRUFBS2pILEtBQUttSCxjQUFnQlQsaUJBQWlCaEUsR0FBT2lFLFVBQ3hHMUQsRUFBT3ZCLE9BQU91RixFQUFLaEUsTUFDbkJsQixFQUFPTCxPQUFPdUYsRUFBS2xGLE1BS25CWixFQUFXdUIsRUFBTXhDLGdCQUVsQndDLE1BQVEzQixFQUFFMkIsa0JBQ0VpQyxZQUNMRCxtQ0FFSjlCLE9BQ0RBLGFBQ01ZLGVBQ0V5QixNQUlWOUIsV0FBYXRCLEVBQUlDLEVBQVFDLEVBQU0sVUFDL0JzQixZQUFjeEIsRUFBSUMsRUFBUUMsRUFBTSxXQUNoQ2dCLEtBQU9oQyxFQUFFLFVBQVlxRyxNQUFVdEYsY0FBa0JBLFVBQWV1RixXQUFZckgsRUFBS3NILE1BQU9sQixFQUFhbUIsUUFBU2pCLEdBQWlCeEQsRUFBS0ssV0FBWUwsRUFBS08sZUFHckptQixVQUFZekQsRUFBRSxRQUFVcUcsTUFBVXRGLFlBQWdCQSxvQkFDbEQwRixVQUFZekcsRUFBRSxRQUFVcUcsTUFBVXRGLFlBQWdCQSxpQkFBdUJnQixFQUFLMEIsYUFDOUVoRSxLQUFPTyxFQUFFLFVBQVlxRyxNQUFVdEYsYUFBaUJBLFVBQWUyRixLQUFNLFNBQVV6RSxhQUFjQyxFQUFLUSxhQUFlLGVBQWdCNEQsV0FBWUosRUFBS1MsU0FBVzFILEVBQUtzSCxlQXlMbEo5SSxHQUVmQSxFQUFNbUosYUFBZ0JuSixFQUFNb0osVUFDcEJwSixJQTVMNksrSSxRQUFTakIsR0FBaUJ4RCxFQUFLMEUsYUFHck4xRCxnQkFBa0IzQyxFQUFTMEcsZUFBZSxNQUMxQ3BFLFlBQWMxQyxFQUFFLFFBQVVxRyxNQUFVdEYsV0FBZUEsa0JBQXVCMkYsS0FBTSxRQUFTekUsYUFBY0MsRUFBS1EsYUFBZSxnQkFBa0JYLEVBQUtnQixtQkFHbEpLLGtCQUFvQmhELEVBQVMwRyxlQUFlLE1BQzVDekQsY0FBZ0JyRCxFQUFFLFFBQVVxRyxNQUFVdEYsV0FBZUEsb0JBQXlCMkYsS0FBTSxRQUFTekUsYUFBY0MsRUFBS21CLGVBQWlCLGtCQUFvQnRCLEVBQUtxQixxQkFHMUpzQixXQUFhNUQsRUFBSUMsRUFBUUMsRUFBTSxVQUMvQjJELGFBQWU3RCxFQUFJQyxFQUFRQyxFQUFNLFlBQ2pDd0QsS0FBT3hFLEVBQUUsVUFBWXFHLE1BQVV0RixjQUFrQkEsVUFBZXVGLFdBQVlySCxFQUFLc0gsTUFBT2pCLEVBQWFrQixRQUFTUixHQUFtQmpFLEVBQUsyQyxXQUFZM0MsRUFBSzRDLGdCQUd2SkosWUFBY3ZFLEVBQUUsUUFBVXFHLE1BQVV0RixZQUFnQkEsc0JBQ3BEZ0csWUFBYy9HLEVBQUUsUUFBVXFHLE1BQVV0RixZQUFnQkEsbUJBQXlCZ0IsRUFBS3dDLGVBQ2xGRixPQUFTckUsRUFBRSxVQUFZcUcsTUFBVXRGLGFBQWlCQSxZQUFpQjJGLEtBQU0sU0FBVXpFLGFBQWNDLEVBQUttQyxRQUFVLFNBQVVpQyxXQUFZSixFQUFLYyxXQUFhL0gsRUFBS3NILGVBc0wzSTlJLEdBRWpCQSxFQUFNbUosYUFBZ0JuSixFQUFNb0osVUFDcEJwSixJQXpMMEsrSSxRQUFTUixHQUFtQmpFLEVBQUtnRixlQUdwTkUsYUFBZW5HLEVBQUlDLEVBQVFDLEVBQU0sY0FDakM4QyxTQUFXOUQsRUFBRSxVQUFZcUcsTUFBVXRGLGNBQWtCQSxjQUFtQmtCLGFBQWNDLEVBQUs0QixVQUFZLFdBQVl3QyxXQUFZckgsR0FBTzhDLEVBQUtrRixnQkFHM0k5QixzQkFBd0JyRSxFQUFJQyxFQUFRQyxFQUFNLHFCQUMxQ29FLHNCQUF3QnRFLEVBQUlDLEVBQVFDLEVBQU0scUJBQzFDZ0UsV0FBYWhGLEVBQUUsVUFBWXFHLE1BQVV0RixjQUFrQkEsZ0JBQXFCdUYsV0FBWXJILEVBQUtzSCxpQkFzTDdGVyxFQUNDcEMsSUFBV0MsUUFFR3hFLEtBQUtILE1BR0pHLEtBQUt1RSxLQUdsQkUsV0FBV21DLG1CQUdMLGFBQ0xuQyxXQUFXbUMsU0FDZCxNQUVNeEYsRUFBTXlGLDJCQUVaekYsRUFBTTBGLDZCQUVIQyx5QkFHQUMsK0JBN01xSHhGLEVBQUtvRCxzQkFBdUJwRCxFQUFLcUQseUJBRzFKb0MsUUFBVXhILEVBQUUsT0FDZHFHLE1BQVV0RixhQUFrQjJGLEtBQU0sVUFBV3pFLGFBQWNDLEVBQUs0QyxRQUFVLGdCQUM1RS9DLEVBQUtDLEtBQU1ELEVBQUt5QyxLQUFNekMsRUFBS1csWUFBYVgsRUFBS3NCLGNBQWV0QixFQUFLc0MsT0FBUXRDLEVBQUt0QyxLQUFNc0MsRUFBSytCLFNBQVUvQixFQUFLaUQsZ0JBSW5HRixFQUFTL0MsRUFBSytDLE9BQVM5RSxFQUFFLE9BQVNxRyxNQUFVdEYsWUFBaUIyRixLQUFNLFNBQVV6RSxhQUFjQyxFQUFLNEMsUUFBVSxnQkFBa0IvQyxFQUFLeUYsU0FHaklDLEVBQW1CMUYsRUFBSzJGLGtCQUFvQix1QkFBd0I1QyxFQUFTLG1CQUFxQiw2QkFBOEJBLEVBQVMseUJBQTJCLDBCQUEyQkEsRUFBUyxzQkFBd0IseUJBQTBCQSxFQUFTLHFCQUF1QixtQkFDMVJDLEVBQW9CaEQsRUFBSzRGLG1CQUFxQixrQkFBTXZILEVBQVMyRSxtQkFBcUIzRSxFQUFTd0gseUJBQTJCeEgsRUFBU3lILHNCQUF3QnpILEVBQVMwSCxxQkFDaEtaLEVBQW9CbkYsRUFBS2dHLG1CQUFxQmpELEVBQU9vQyxtQkFBcUJwQyxFQUFPa0QseUJBQTJCbEQsRUFBT21ELHNCQUF3Qm5ELEVBQU9vRCxvQkFDbEpDLEVBQWlCcEcsRUFBS3FHLGdCQUFrQixrQkFBTWhJLEVBQVMrSCxnQkFBa0IvSCxFQUFTaUksd0JBQTBCakksRUFBU2tJLHFCQUF1QmxJLEVBQVNtSSxvQkFHbEpySixpQkFBaUJ1SSxFQUFrQjdDLEtBRzFDakQsR0FBUzBFLE1BQVV0RixXQUFnQnlILFlBQWEsR0FBSUMscUJBQXNCLEdBQUkvQixLQUFNLE1BQVFnQyxVQUFXLElBQUtDLFVBQVcsRUFHckhoSCxFQUFNaUgsY0FDRkMsYUFDTmxILEVBQU1pSCxXQUFXRSxhQUFhaEUsRUFBUW5ELEdBQ3RDSSxFQUFLeUYsYUFPSDFGLFNBQVFZLFNBQWFDLFNBQVVKLFdBbU41QlIsRUFBS3RDLEtBQU1zQyxFQUFLMEUsVUFBVyxTQUFDc0MsS0FDNUJyRyxZQUFjQyxFQUFXakQsS0FBS29HLElBQUksRUFBR3BHLEtBQUtxRyxJQUFJLEVBQUdnRCxZQU1qRGhILEVBQUtzQyxPQUFRdEMsRUFBS2dGLFlBQWEsU0FBQ2dDLEtBQ2hDMUUsT0FBUzNFLEtBQUtvRyxJQUFJLEVBQUdwRyxLQUFLcUcsSUFBSSxFQUFHZ0QifQ=="}